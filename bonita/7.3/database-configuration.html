<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Database configuration for engine data :: Bonita Documentation</title>
    <link rel="canonical" href="https://bonitasoft.github.io/bonita/7.12/database-configuration">
    <meta name="generator" content="Antora 2.3.4">
<link rel="stylesheet" href="../../_/stylesheets/site.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="navbar-item">
        <a class="bonita-logo" href="https://bonitasoft.github.io"></a>
      </div>

    </div>

    <div class="search-content">
      <fieldset>
        <input type="text" id="search-query-mobile" placeholder="Search..." />
        <div class="icons-container">
          <div id="search-icon"></div>
        </div>
      </fieldset>
    </div>

    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item is-hoverable">
        <a href="https://community.bonitasoft.com/" class="navbar-link">Community</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bonita/7.12/">Bonita</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bici/latest/">Bonita ICI</a>
      </div>
    </div>

    <div class="theme-switch-wrapper">
      <input type="checkbox" name="" onclick="toggleDarkThemeMode(this)">
    </div>

    <div class="navbar-item search-item hide-for-print">
      <input type="text" placeholder="Search Docs" class="search-bar query ds-input" id="search-query">
      <i class="search-icon" aria-hidden="true"></i>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="bonita" data-version="7.3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="./">Bonita</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="release-notes">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_application-and-process-design.adoc">Application and Process Design</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-overview">Bonita BPM overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_application-and-process-design-overview.adoc">Application and process design overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-tutorial">Getting started tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="key-concepts">Key concepts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="comparison-of-7-x-and-6-x">Comparison of 7.x and 6.x</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lifecycle-and-profiles">Lifecycle and profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="design-methodology">Design methodology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-preferences">Bonita BPM Studio preferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-hints-and-tips">Bonita BPM Studio hints and tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-modeling.adoc">Process modeling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_diagrams.adoc">Diagrams</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="diagram-overview">Diagram overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="pools-and-lanes">Pools and lanes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="diagram-tasks">Tasks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="gateways">Gateways</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="transitions">Transitions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="events">Events</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="called-processes">Called processes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event-subprocesses">Event subprocesses</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="text-annotations">Text annotations</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate-a-process-from-bonita-open-solution-5-x">Migrate a process from Bonita Open Solution 5.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="naming-conventions">Naming conventions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="generate-process-documentation">Generate process documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="refactoring">Refactoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actors">Actors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actor-filtering">Actor filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="iteration">Iteration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_data.adoc">Data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-handling-overview">Data handling overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="define-and-deploy-the-bdm">Define and deploy the BDM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="specify-data-in-a-process-definition">Specify data in a process definition</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="parameters">Parameters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="contracts-and-contexts">Contracts and contexts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="documents">Documents</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-a-complex-data-type">Complex data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="define-a-search-index">Define a search key</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="expressions-and-scripts">Expressions and scripts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operations">Operations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_page-and-form-development.adoc">Page and form development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="page-and-form-development-overview">Page and form development overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_using-the-ui-designer.adoc">UI Designer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ui-designer-overview">UI Designer overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="create-or-modify-a-page">Create or modify UI artifacts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="widgets">Widgets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="widget-properties">Widget properties</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_widget-use-examples.adoc">Widget use examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="repeat-a-container-for-a-collection-of-data">Repeat a container for a collection of data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="fragments">Fragments</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="custom-widgets">Custom widgets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="variables">Variables</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="appearance">Appearance</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="assets">Assets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="multi-language-pages">Multi-language pages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate-a-form-from-6-x">Migrate a form from 6.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="6-x-legacy-forms">6.x legacy forms</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_connectivity.adoc">Connectivity</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="connectivity-overview">Connectivity overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="alfresco">Alfresco</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cmis">CMIS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_database.adoc">Database</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="list-of-database-connectors">List of database connectors</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="database-connector-configuration">Database connector configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="graphical-query-builder">Graphical query builder</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="initialize-a-variable-from-a-database-without-scripting-or-java-code">Initialize a variable from a database without scripting or Java code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="insert-data-in-a-docx-odt-template">Insert data in a .docx/.odt template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="google-calendar">Google Calendar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="jasper-5">Jasper</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ldap">LDAP</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="messaging">Messaging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="generate-pdf-from-an-office-document">Generate PDF from an Office document</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="salesforce">Salesforce</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sap-jco-2">SAP JCo 2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sap-jco-3">SAP JCo 3</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="script">Script</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sugar-crm">SugarCRM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="talend-job-launcher">Talend Job launcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="talend-tis-job-launcher">Talend TIS Job launcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="twitter">Twitter</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_web-service.adoc">Web service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="web-service-connector-overview">Web service connector overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="web-service-tutorial">Web service connector tutorial</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization.adoc">Organization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-overview">Organization overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="approaches-to-managing-organizations-and-actor-mapping">Approaches to managing organizations and actor mapping</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-management-in-bonita-bpm-studio">Organization management in Bonita BPM Studio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="custom-user-information-in-bonita-bpm-studio">Custom User Information in Bonita BPM Studio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ldap-synchronizer">LDAP synchronizer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_reporting.adoc">Reporting</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reporting-overview">Reporting overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-a-reporting-database">Set up a reporting database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-kpis">Set up KPIs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-a-report">Create a report</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="import-and-export-a-process">Import and export a process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-configuration.adoc">Process configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-configuration-overview">Process configuration overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="environments">Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configuring-a-process">Configure a process</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manage-jar-files">Manage JAR files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="managing-dependencies">Manage dependencies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-testing.adoc">Process testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-testing-overview">Process testing overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configure-a-test-organization">Configure a test organization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="run-a-process-from-bonita-bpm-studio-for-testing">Run a process from Bonita BPM Studio for testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-files">Log files</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="build-a-process-for-deployment">Build a process for deployment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="workspaces-and-repositories">Workspaces and repositories</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_installation.adoc">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-installation-overview">Bonita BPM installation overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-installation">Bonita BPM Studio installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_basic-bonita-bpm-platform-installation.adoc">Basic Bonita BPM Platform installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hardware-and-software-requirements">Hardware and software requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tomcat-bundle">Tomcat bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="jboss-bundle">JBoss bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deploy-bundle">Deploy bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="BonitaBPM_platform_setup">Platform configuration</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="database-configuration">Database configuration for engine data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="database-configuration-for-business-data">Database configuration for business data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="first-steps-after-setup">First steps after setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="licenses">Licenses</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_advanced-bonita-bpm-platform-installation.adoc">Advanced Bonita BPM Platform installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_security-and-authentication.adoc">Security and authentication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user-authentication-overview">User authentication overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="active-directory-or-ldap-authentication">Active Directory or LDAP authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="single-sign-on-with-cas">Single sign-on with CAS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="enforce-password-policy">Enforce password policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="rest-api-authorization">REST API authorization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="csrf-security">CSRF security</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="enable-cors-in-tomcat-bundle">Enable CORS in Tomcat bundle</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ssl">SSL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-log-and-archive-levels">Set log and archive levels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurable-archive">Configurable Archive</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="performance-tuning">Performance tuning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="performance-troubleshooting">Performance troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="use-gzip-compression">Use gzip compression</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="two-main-types-of-deployment">Two main types of deployment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-bpm-in-a-cluster.adoc">Bonita BPM in a cluster</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="overview-of-bonita-bpm-in-a-cluster">Overview of Bonita BPM in a cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="install-a-bonita-bpm-cluster">Install a Bonita BPM cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="cluster-administration">Cluster administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="multi-tenancy-and-tenant-configuration">Multi-tenancy and tenant configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_platform-installation-examples.adoc">Platform installation examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="red-hat-oracle-jvm-weblogic-oracle">Red Hat + Oracle JVM + WebLogic + Oracle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ubuntu-openjdk-tomcat-postgresql">Ubuntu + OpenJDK + Tomcat + PostgreSQL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="back-up-bonita-bpm-platform">Back up Bonita BPM Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_migration.adoc">Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="migration-overview">Migration overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="migrate-from-an-earlier-version-of-bonita-bpm">Migrate from an earlier version of Bonita BPM</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade-from-community-to-a-subscription-edition">Community to Subscription upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-bpm-portal-administration.adoc">Bonita BPM Portal Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-bpm-portal-interface.adoc">Bonita BPM Portal interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bonita-bpm-portal-interface-overview">Bonita BPM Portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="user-task-list">User task list</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="languages">Languages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-in-and-log-out">Log in and log out</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="about">About Bonita BPM Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-portal">Mobile Portal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-maintenance.adoc">Process maintenance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="processes">Processes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cases">Cases</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tasks">Tasks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="subtasks">Subtasks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="monitoring">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pause-and-resume-bpm-services">Pause and resume BPM services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-management-in-bonita-bpm-portal">BDM Management in Bonita BPM Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="applications">Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_resources.adoc">Resources</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="resource-management">Resource management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pages">Pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="forms">Forms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="layouts">Layouts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="themes">Themes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="api-extensions">REST API extensions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="live-update">Live update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization-in-bonita-bpm-portal.adoc">Organization in Bonita BPM Portal</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-in-bonita-bpm-portal-overview">Organization in Bonita BPM Portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization-maintenance.adoc">Organization maintenance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="import-export-an-organization">Import/export an organization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="group">Manage groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="role">Manage roles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_user.adoc">Manage users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="manage-a-user">Manage a user</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="deactivate-a-user">Deactivate a user</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="custom-user-information-in-bonita-bpm-portal">Custom User Information in Bonita BPM Portal</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="analytics">Analytics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_user-profiles.adoc">User profiles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="profiles-overview">Profiles overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="administrator-rights">Administrator rights</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-manager">Process manager</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="custom-profiles">Custom profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deploying-profiles-with-export-and-import">Deploy profiles with export and import</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_look-feel.adoc">Look &amp; Feel</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="managing-look-feel">Manage Look &amp; Feel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="creating-a-new-look-feel">Create a new Look &amp; Feel</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="search-index">Search keys</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_development.adoc">Development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="software-extensibility">Software extensibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-bpm-artifacts.adoc">Bonita BPM artifacts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_connectors.adoc">Connectors</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="connectors-overview">Connectors overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="connector-development-toolkit">Connector development toolkit</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="creating-an-actor-filter">Create an actor filter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="api-glossary">API glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_rest-api.adoc">REST API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-overview">REST API overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="application-api">application API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-api">bdm API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bpm-api">bpm API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="customuserinfo-api">customuserinfo API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="form-api">form API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-api">identity API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="platform-api">platform API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="portal-api">portal API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-api">system API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-extensions">REST API extensions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manage-files-using-upload-servlet-and-rest-api">Manage files using upload servlet and REST API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_engine-api.adoc">Engine API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="engine-api-overview">Engine API overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-your-first-project-with-the-engine-apis-and-maven">Create your first project with the Engine APIs and Maven</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configure-client-of-bonita-bpm-engine">Configure connection to Bonita BPM Engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="http://documentation.bonitasoft.com/javadoc/api/$7.3/index.html">Javadoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_examples.adoc">Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-a-process">Manage a process</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handle-a-failed-activity">Handle a failed activity</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-an-organization">Manage an organization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-users">Manage users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handling-documents">Handle documents</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="create-administration-tools">Create administration tools</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="restore-default-look-feel">Restore the default Look &amp; Feel</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-the-platform">Manage the platform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="using-list-and-search-methods">List and search methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-in-with-cas">Log in with CAS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-portal-urls">Bonita BPM Portal URLs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_engine-architecture.adoc">Bonita BPM Engine architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="engine-architecture-overview">Bonita BPM Engine architecture overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_services.adoc">Services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event-handlers">Event handlers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="queriable-logging">Queriable logger</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="technical-logging">Technical logger</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="execution-sequence-states-and-transactions">Execution sequence, states, and transactions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="shared-transactions">Shared transactions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_living-application.adoc">Living application</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="customize-living-application-layout">Customize living application layout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="logging">Logs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="preloading-the-forms-cache">Preload the forms cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-community-edition-from-source">Build Bonita BPM Community edition from source files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_continuous-integration.adoc">Continuous integration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="automating-builds">Automate builds</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-continuous-integration">Set up continuous integration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_howtos.adoc">Howtos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uid-modal-tutorial">Create a modal window using CSS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uid-case-overview-tutorial">Create a case overview page using the UI Designer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="optimize-user-tasklist">Create unique task names for the user task list</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manage-control-in-forms">Control and validate forms in the UI Designer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="list-of-documents">Manage a list of documents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bo-multiple-refs-tutorial">Manage multiple references in Business Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="custom-authorization-rule-mapping">Map authorization rules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rta-mail-template">Use the rich textarea widget in a mail template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dates-management-tutorial">Manage dates in BDM and User Interfaces</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Bonita</span>
    <span class="version">7.3</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Bonita</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../7.12/">7.12</a>
        </li>
        <li class="version">
          <a href="../7.11/">7.11</a>
        </li>
        <li class="version">
          <a href="../7.10/">7.10</a>
        </li>
        <li class="version">
          <a href="../7.9/">7.9</a>
        </li>
        <li class="version">
          <a href="../7.8/">7.8</a>
        </li>
        <li class="version">
          <a href="../7.7/">7.7</a>
        </li>
        <li class="version">
          <a href="../7.6/">7.6</a>
        </li>
        <li class="version">
          <a href="../7.5/">7.5</a>
        </li>
        <li class="version">
          <a href="../7.4/">7.4</a>
        </li>
        <li class="version is-current">
          <a href="./">7.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita ICI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../bici/latest/">labs</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <a href="../7.12/" class="home-link">
    <svg height="30" viewBox="0 0 48 48" width="30" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 40V28h8v12h10V24h6L24 6 4 24h6v16z" />
      <path d="M0 0h48v48H0z" fill="none" />
    </svg>
  </a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="./">Bonita</a></li>
    <li><a href="#_installation.adoc">Installation</a></li>
    <li><a href="#_basic-bonita-bpm-platform-installation.adoc">Basic Bonita BPM Platform installation</a></li>
    <li><a href="database-configuration">Database configuration for engine data</a></li>
  </ul>
</nav>
  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">7.3</button>
  <div class="version-menu">
    <a class="version" href="../7.12/database-configuration">7.12</a>
    <a class="version" href="../7.11/database-configuration">7.11</a>
    <a class="version" href="../7.10/database-configuration">7.10</a>
    <a class="version" href="../7.9/database-configuration">7.9</a>
    <a class="version" href="../7.8/database-configuration">7.8</a>
    <a class="version" href="../7.7/database-configuration">7.7</a>
    <a class="version" href="../7.6/database-configuration">7.6</a>
    <a class="version" href="../7.5/database-configuration">7.5</a>
    <a class="version" href="../7.4/database-configuration">7.4</a>
    <a class="version is-current" href="database-configuration">7.3</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/bonitasoft/bonita-doc/edit/7.3_asciidoctor/modules/ROOT/pages/database-configuration.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Database configuration for engine data</h1>
<div class="sect1">
<h2 id="_database_usage"><a class="anchor" href="#_database_usage"></a>Database usage</h2>
<div class="sectionbody">
<h4 id="_introduction" class="discrete">Introduction</h4>
<div class="paragraph">
<p>The Bonita BPM Engine uses an RDBMS (Relational DataBase Management System) to store information about deployed process definitions, process configurations, history of process execution, users, etc.<br>
One database schema is required by Bonita BPM Engine to store all information.</p>
</div>
<div class="paragraph">
<p>Bonita BPM Engine connection to the database is done through the Hibernate library (version 4.2).<br>
This provides a level of abstraction between the engine and the RDBMS.<br>
Bonita BPM comes with a set of optimized initialization scripts for the <a href="https://customer.bonitasoft.com/support-policies">supported RDBMSs</a>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>info
Some configuration file detailed below are located under <code>setup</code> folder. See <a href="BonitaBPM_platform_setup" class="page">Bonita BPM platform setup tool</a> for more information about platform configuration.</p>
</dd>
<dt class="hdlist1"></dt>
<dt class="hdlist1"></dt>
<dd>
<p>info
This page explains database configuration for Bonita BPM Engine data. If you are also using <a href="define-and-deploy-the-bdm" class="page">business data objects</a>, these can be stored in a separate database. By default, Bonita BPM comes with an h2 database. For production purposes, we recommend that you <a href="database-configuration-for-business-data" class="page">configure a different database for business data</a>.</p>
</dd>
<dt class="hdlist1"></dt>
</dl>
</div>
<h4 id="_default_h2_database" class="discrete">Default h2 database</h4>
<div class="paragraph">
<p>Bonita BPM Studio, the JBoss bundle, the Tomcat bundle, and the deploy bundle come by default with an h2 RDBMS included in the package. The database is automatically created at first startup.</p>
</div>
<div class="paragraph">
<p>h2 is only suitable for testing purposes.
For production purposes, you must modify the configuration to use another RDBMS.</p>
</div>
<h4 id="_steps_to_switch_to_another_rdbms" class="discrete">Steps to switch to another RDBMS</h4>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>warning
Please note this procedure cannot be performed using the Bonita Studio. The Bonita Studio can run only on the H2 Database.
To use Bonita BPM on another RDBMS, please use a <a href="#_basic-bonita-bpm-platform-installation.adoc" class="page unresolved">bundle</a> or set up a <a href="deploy-bundle" class="page">standalone server</a>.</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>In order to configure Bonita BPM to work with your RDBMS, you need to perform the following steps:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the database</p>
</li>
<li>
<p>Specify the database vendor</p>
</li>
<li>
<p>Add the JDBC driver</p>
</li>
<li>
<p>Configure data source</p>
</li>
<li>
<p>Remove h2</p>
</li>
<li>
<p>Configure RDBMS-specific settings</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>warning
There is a known issue between Bitronix (the Transaction Manager shipped by Bonitasoft for the Tomcat bundle &amp; inside Deploy bundle for Tomcat) and Microsoft SQL Server driver (refer to: <a href="https://msdn.microsoft.com/en-us/library/aa342335.aspx">MSDN note</a>, <a href="http://bitronix-transaction-manager.10986.n7.nabble.com/Failed-to-recover-SQL-Server-Restart-td148.html">Bitronix note</a>).
Therefore, using Bitronix as a Transaction Manager with SQL Server is not recommended. Our recommendation is to use the JBoss bundle provided by Bonitasoft.</p>
</dd>
<dt class="hdlist1"></dt>
<dt class="hdlist1"></dt>
<dd>
<p>warning
Some RDBMSs require a specific configuration, which must be done before you complete your installation.<br>
If you do not complete the specific configuration for your RDBMS, your installation may fail.</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p><a id="database_creation"></a></p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_database_creation"><a class="anchor" href="#_database_creation"></a>Database creation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first step in configuring Bonita with your RDBMS is to create a new database (i.e. a new schema).</p>
</div>
<div class="paragraph">
<p>To do so, you need a RDBMS user account that has sufficient privileges (i.e. privileges to create new schema).</p>
</div>
<div class="paragraph">
<p>Also, note that the owner of the new schema must have following privileges:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CREATE TABLE</p>
</li>
<li>
<p>CREATE INDEX</p>
</li>
<li>
<p>SELECT, INSERT, UPDATE, DELETE on created TABLE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>:::info
CREATE TABLE and CREATE INDEX are not required after first start in normal use. If the same SQL user is used with <a href="migrate-from-an-earlier-version-of-bonita-bpm" class="page">migration tool</a>, then this user needs this grants.
:::</p>
</div>
<div class="paragraph">
<p>To create the database, we recommend you refer to your RDBMS documentation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.postgresql.org/docs/9.3/static/app-createdb.html">PostgreSQL</a></p>
</li>
<li>
<p><a href="https://docs.oracle.com/cd/E11882_01/server.112/e25494/create.htm#ADMIN002">Oracle database</a></p>
</li>
<li>
<p><a href="https://technet.microsoft.com/en-us/library/dd207005(v=sql.110).aspx">SQL Server</a></p>
</li>
<li>
<p><a href="http://dev.mysql.com/doc/refman/5.5/en/database-use.html">MySQL</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Your database must be configured to use the UTF-8 character set. You are recommended to configure the database to be case-insensitive so that searches in Bonita BPM Portal are case-insensitive.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specify_the_database_vendor"><a class="anchor" href="#_specify_the_database_vendor"></a>Specify the database vendor</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bonita BPM Engine needs to know which type of RDBMS you use.<br>
This is defined by setting the <code>sysprop.bonita.db.vendor</code> JVM system property value.</p>
</div>
<div class="paragraph">
<p>The possible values for <code>sysprop.bonita.db.vendor</code> / <code>db.vendor</code> are:<div class="row">| Database vendor | Property value | | :- | :- | | PostgreSQL | postgres | | Oracle database | oracle | | SQL Server | sqlserver | | MySQL | mysql | | h2 (default for testing, not for production) | h2 |</div></p>
</div>
<div class="paragraph">
<p>As example, if you want to use postgres, the line will be:
<code>db.vendor= postgres</code></p>
</div>
<div class="paragraph">
<p>The way to define JVM system properties depends on your application server type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JBoss: edit <code>&lt;JBOSS_HOME&gt;/standalone/configuration/standalone.xml</code> and set the value of <code>sysprop.bonita.db.vendor</code> (look for <code>&lt;system-properties&gt;</code> tag).</p>
</li>
<li>
<p>Tomcat: edit <code>setenv.sh</code> (for Linux) or <code>setenv.bat</code> (for Windows) and change the value of <code>sysprop.bonita.db.vendor</code> on the line starting by <code>DB_OPTS</code>.</p>
</li>
<li>
<p>For other application servers, refer to your application server documentation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An alternative to setting the JVM system property (<code>sysprop.bonita.db.vendor</code>) is to set <code>db.vendor</code> property value in the
<a href="BonitaBPM_platform_setup" class="page"><code>bonita-platform-community-custom.properties</code></a> file.
The default value of <code>db.vendor</code> indicates that the value of the JVM system property value must be used.
If the property is not defined, the fallback value is h2: <code>db.vendor=${sysprop.bonita.db.vendor:h2}</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_the_jdbc_driver"><a class="anchor" href="#_add_the_jdbc_driver"></a>Add the JDBC driver</h2>
<div class="sectionbody">
<h4 id="_download_jdbc_driver" class="discrete">Download JDBC driver</h4>
<div class="paragraph">
<p>First, you need to download the JDBC driver for your database system. Use the links below to download the driver.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Database vendor</th>
<th class="tableblock halign-left valign-top">Download link</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL (use "Current Version")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://jdbc.postgresql.org/download.html#current">download</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html">download</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microsoft SQL Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://go.microsoft.com/fwlink/?LinkId=245496">download</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.mysql.com/downloads/connector/j/">download</a></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you run on Linux, the JDBC driver might also be available in the distribution packages repository. On Ubuntu and Debian, you can, for example, install the <code>libpostgresql-jdbc-java</code> package to get the PostgreSQL JDBC Driver (install in <code>/usr/share/java</code>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="jdbc_driver"></a></p>
</div>
<h4 id="_add_jdbc_driver_to_application_server" class="discrete">Add JDBC driver to application server</h4>
<div class="paragraph">
<p>The way to install the JDBC driver depends on the application server:</p>
</div>
<h5 id="_jboss_7" class="discrete">JBoss 7</h5>
<div class="paragraph">
<p>JBoss 7 manages JDBC drivers as modules, so to add a new JDBC driver, complete these steps:
(see <a href="https://developer.jboss.org/wiki/DataSourceConfigurationInAS7#jive_content_id_Installing_a_JDBC_driver_as_a_module">JBoss documentation</a> for full reference):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a folder structure under <code>&lt;JBOSS_HOME&gt;/modules</code> folder.
Refer to the table below to identify the folders to create.<br>
The last folder is named <code>main</code> for all JDBC drivers.</p>
</li>
<li>
<p>Add the JDBC driver jar file to the <code>main</code> folder.</p>
</li>
<li>
<p>Create a module description file <code>module.xml</code> in <code>main</code> folder.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Database vendor</th>
<th class="tableblock halign-left valign-top">Module folders</th>
<th class="tableblock halign-left valign-top">Module description file</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules/org/postgresql/main</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="images/special_code/postgresql/module.xml">module.xml</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules/com/oracle/main</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="images/special_code/oracle/module.xml">module.xml</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQL Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules/com/sqlserver/main</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="images/special_code/sqlserver/module.xml">module.xml</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules/com/mysql/main</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="images/special_code/mysql/module.xml">module.xml</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Put the driver jar file in the relevant <code>main</code> folder.</p>
</div>
<div class="paragraph">
<p>In the same folder as the driver, add the module description file, <code>module.xml</code>.
This file describes the dependencies the module has and the content it exports.
It must describe the driver jar and the JVM packages that JBoss 7 does not provide automatically.
The exact details of what must be included depend of the driver jar.
<strong>Warning:</strong> You might need to edit the <code>module.xml</code> in order to match exactly the JDBC driver jar file name.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>info<br>
<strong>Note:</strong> By default, when JBoss starts, it removes any comments from <code>standalone/configuration/standalone.xml</code> and formats the file.
If you need to retrieve the previous version of this file, go to <code>standalone/configuration/standalone_xml_history</code>.</p>
</dd>
<dt class="hdlist1"></dt>
</dl>
</div>
<h4 id="_tomcat_7" class="discrete">Tomcat 7</h4>
<div class="paragraph">
<p>For Tomcat, simply add the JDBC driver jar file in the appropriate folder:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bonita BPM Tomcat bundle: in the bundle folder add the driver to the <code>lib/bonita</code> folder.</p>
</li>
<li>
<p>Bonita BPM deploy bundle: in the Tomcat folder add the driver to the <code>lib</code> folder.</p>
</li>
<li>
<p>Ubuntu/Debian package: add the driver to <code>/usr/share/tomcat7/lib</code>.</p>
</li>
<li>
<p>Windows as a service: add the driver to <code>C:\Program Files\Apache Software Foundation\Tomcat 7.0\lib</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configure_the_data_source"><a class="anchor" href="#_configure_the_data_source"></a>Configure the data source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bonita BPM Engine requires the configuration of two data sources. The data source declaration defines how to connect to the RDBMS. The following information is required to configure the data sources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Address of the RDBMS server</p>
</li>
<li>
<p>Port number of the RDBMS server</p>
</li>
<li>
<p>Database (schema) name</p>
</li>
<li>
<p>User name to connect to the database</p>
</li>
<li>
<p>Password to connect to the database</p>
</li>
<li>
<p>JDBC Driver fully qualified class name (see table below)</p>
</li>
<li>
<p>XADataSource fully qualified class name (see table below)</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Database vendor</th>
<th class="tableblock halign-left valign-top">Driver class name</th>
<th class="tableblock halign-left valign-top">XADataSource class name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.postgresql.Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.postgresql.xa.PGXADataSource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oracle.jdbc.driver.OracleDriver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oracle.jdbc.xa.client.OracleXADataSource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microsoft SQL Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.microsoft.sqlserver.jdbc.SQLServerDriver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.microsoft.sqlserver.jdbc.SQLServerXADataSource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.mysql.jdbc.Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.mysql.jdbc.jdbc2.optional.MysqlXADataSource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">h2 (not for production)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.h2.Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.h2.jdbcx.JdbcDataSource</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following sections show how to configure the datasources for JBoss and Tomcat.
There is also an <a href="red-hat-oracle-jvm-weblogic-oracle" class="page">example of how to configure datasources for Weblogic</a>.</p>
</div>
<h4 id="_jboss" class="discrete">JBoss</h4>
<div class="paragraph">
<p>This section explains how to configure the data sources if you are using JBoss:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the file <code>&lt;JBOSS_HOME&gt;/standalone/configuration/standalone.xml</code>.</p>
</li>
<li>
<p>Comment out the default definition for h2.</p>
</li>
<li>
<p>Uncomment the settings matching your RDBMS vendor.</p>
</li>
<li>
<p>Modify the values for following settings to your configuration: server address, server port, database name, user name and password.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For a first test, you might want to keep the h2 section related to Business Data Management (BDM) feature (driver and data sources configuration).
You can update the <a href="database-configuration-for-business-data" class="page">configuration related to BDM</a> later.
</td>
</tr>
</table>
</div>
<h4 id="_tomcat" class="discrete">Tomcat</h4>
<div class="paragraph">
<p>Configuration of data source for Tomcat is in two parts: because Tomcat doesn&#8217;t support JTA natively, one data source will be configured in the Bitronix configuration file and the other data source will be configured in the standard Tomcat context configuration file.</p>
</div>
<h5 id="_jta_data_source_managed_by_bitronix" class="discrete">JTA data source (managed by Bitronix)</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <code>&lt;TOMCAT_HOME&gt;/conf/bitronix-resources.properties</code> file.</p>
</li>
<li>
<p>Remove or comment out the lines regarding the h2 database.</p>
</li>
<li>
<p>Uncomment the line matching your RDBMS.</p>
</li>
<li>
<p>Update the value for each of the following settings:</p>
<div class="ulist">
<ul>
<li>
<p>For <code>resource.ds1.driverProperties.user</code>, put your RDBMS user name.</p>
</li>
<li>
<p>For <code>resource.ds1.driverProperties.password</code>, put your RDBMS password.</p>
</li>
<li>
<p>For <code>resource.ds1.driverProperties.serverName</code>, put the address (IP or hostname) of your RDBMS server.</p>
</li>
<li>
<p>For <code>resource.ds1.driverProperties.portNumber</code>, put the port of your RDBMS server.</p>
</li>
<li>
<p>For <code>resource.ds1.driverProperties.databaseName</code>, put the database name.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
</div>
<h5 id="_non_transactional_data_source" class="discrete">Non-transactional data source</h5>
<div class="paragraph">
<p>The second data source run SQL queries outside any transaction. To configure it:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <code>&lt;TOMCAT_HOME&gt;/conf/Catalina/localhost/bonita.xml</code> file.</p>
</li>
<li>
<p>Remove or comment out the lines regarding h2 database.</p>
</li>
<li>
<p>Uncomment the line matching your RDBMS.</p>
</li>
<li>
<p>Update following attributes value:</p>
<div class="ulist">
<ul>
<li>
<p><code>username</code>: your RDBMS user name.</p>
</li>
<li>
<p><code>password</code>: your RDBMS password.</p>
</li>
<li>
<p><code>url</code>: the URL, including the RDBMS server address, RDBMS server port and database (schema) name.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remove_h2"><a class="anchor" href="#_remove_h2"></a>Remove h2</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you use the default configuration for business data (BDM), do not remove h2 yet.
First make sure that you have <a href="database-configuration-for-business-data" class="page">configured Business Data</a> to use your own RDBMS.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that you are almost done with the switch from h2 to your chosen RDBMS, you can remove h2:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For JBoss</p>
<div class="ulist">
<ul>
<li>
<p>Delete the <code>$JBOSS_HOME/standalone/deployments/h2.sar</code> folder.</p>
</li>
<li>
<p>Remove the configuration for h2 from <code>&lt;JBOSS_HOME&gt;/standalone/configuration/standalone.xml</code>.</p>
</li>
<li>
<p>Make sure that <code>sysprop.bonita.db.vendor</code> property in <code>&lt;JBOSS_HOME&gt;/standalone/configuration/standalone.xml</code> is not set to h2.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For Tomcat</p>
<div class="ulist">
<ul>
<li>
<p>Remove h2 jar files (<code>bonita-jboss-h2-mbean-1.0.0.jar</code>, <code>bonita-tomcat-h2-listener-1.0.1.jar</code>, <code>h2-1.3.170.jar</code>). Files are located in: <code>&lt;TOMCAT_HOME&gt;/lib</code> or in <code>&lt;TOMCAT_HOME&gt;/lib/bonita</code>.</p>
</li>
<li>
<p>Remove the h2 listener, so that h2 is not started automatically: comment out the h2 listener in the <code>/conf/server.xml</code> file.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Check that h2 is no longer set in JVM system property value. Also, for extra security, you can remove it from <code>bonita-platform.properties</code> file and replace it with the value for your chosen RDBMS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="specific_database_configuration"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_specific_database_configuration"><a class="anchor" href="#_specific_database_configuration"></a>Specific database configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_postgresql"><a class="anchor" href="#_postgresql"></a>PostgreSQL</h3>
<div class="paragraph">
<p>Configure the database to use UTF-8.</p>
</div>
<div class="paragraph">
<p>Edit <code>postgresql.conf</code> and set a non-zero value for <code>max_prepared_transactions</code>. The default value, 0, disables prepared transactions, which is not recommended for Bonita BPM Engine. The value should be at least as large as the value set for <code>max_connections</code> (default is typically 100). See the <a href="https://www.postgresql.org/docs/9.3/static/runtime-config-resource.html#GUC-MAX-PREPARED-TRANSACTIONS">PostgreSQL documentation</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_oracle_database"><a class="anchor" href="#_oracle_database"></a>Oracle Database</h3>
<div class="paragraph">
<p>Make sure your database is configured to use the AL32UTF8 character set.
If your database already exists, see the Oracle documentation for details of how to <a href="http://docs.oracle.com/cd/E11882_01/server.112/e10729/ch11charsetmig.htm#NLSPG011">migrate the character set</a>.</p>
</div>
<div class="paragraph">
<p>Bonita BPM Engine uses datasources that handle global transactions that span resources (XADataSource), so the Oracle user used by Bonita BPM Engine, requires some specific privileges, and there are also specific settings for XA activation.</p>
</div>
<div class="sect3">
<h4 id="_important_information_for_a_successful_connection"><a class="anchor" href="#_important_information_for_a_successful_connection"></a><strong>Important information for a successful connection</strong></h4>
<div class="paragraph">
<p>The procedure below is used to create the settings to enable the Bonita BPM Engine to connect to the Oracle database.</p>
</div>
<div class="paragraph">
<p>It is assumed in the procedure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Oracle product is already installed and running</p>
</li>
<li>
<p>An 'Oracle' OS user is already created</p>
</li>
<li>
<p>A database already exists</p>
</li>
<li>
<p>The environment is already set:</p>
<div class="listingblock">
<div class="content">
<pre>ORACLE_HOME=/u01/app/oracle/product/11.2.0/dbhome_1
ORACLE_SID=...</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect to the database as the System Administrator.</p>
<div class="paragraph">
<p>SQL query &gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">oracle@ubuntu:~$ sqlplus / as sysdba</code></pre>
</div>
</div>
</li>
<li>
<p>Check that the following components exist and are valid:<br>
SQL query &gt;</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">select comp_name, version, status from dba_registry;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Comp_name</th>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Status</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Database Catalog Views</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2.0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Database Packages and Types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2.0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JServer JAVA Virtual Machine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2.0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle XDK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2.0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle Database Java Packages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2.0.1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VALID</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Add XA elements:</p>
<div class="paragraph">
<p>SQL query &gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">@/u01/app/oracle/product/11.2.0/dbhome_1/javavm/install/initxa.sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>This only needs to be done once, after the installation of Oracle.</p>
</div>
</li>
<li>
<p>Create the database user to be used by the Bonita BPM Engine and grant the required rights:</p>
<div class="paragraph">
<p>SQL query &gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">@/u01/app/oracle/product/11.2.0/dbhome_1/rdbms/admin/xaview.sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following queries must be done for each new user: i.e. one user = one database schema.</p>
</div>
<div class="paragraph">
<p>SQL query &gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE USER bonita IDENTIFIED BY bonita;
GRANT connect, resource TO bonita IDENTIFIED BY bonita;
GRANT select ON sys.dba_pending_transactions TO bonita;
GRANT select ON sys.pending_trans$ TO bonita;
GRANT select ON sys.dba_2pc_pending TO bonita;
GRANT execute ON sys.dbms_system TO bonita;
GRANT select ON sys.v$xatrans$ TO bonita;
GRANT execute ON sys.dbms_xa TO bonita;
GRANT FORCE ANY TRANSACTION TO bonita;</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sql_server"><a class="anchor" href="#_sql_server"></a>SQL Server</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>warning
There is a known issue between Bitronix (the Transaction Manager shipped by Bonitasoft in the Tomcat bundle and in the Tomcat directories of the Deploy bundle) and the Microsoft SQL Server driver
(refer to: <a href="https://msdn.microsoft.com/en-us/library/aa342335.aspx">MSDN note</a>, <a href="http://bitronix-transaction-manager.10986.n7.nabble.com/Failed-to-recover-SQL-Server-Restart-td148.html">Bitronix note</a>).
Therefore, using Bitronix as a Transaction Manager with SQL Server is not recommended. Our recommendation is to use the JBoss bundle provided by Bonitasoft.</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>==== XA Transactions</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To support XA transactions, SQL Server requires a specific configuration.</p>
</div>
<div class="paragraph">
<p>You can refer to <a href="https://msdn.microsoft.com/en-us/library/aa342335(v=sql.110).aspx">MSDN</a> for more information.</p>
</div>
<div class="paragraph">
<p>Here is the list of steps to perform (as an example, the database name BONITA_BPM is used):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure you have already downloaded and installed the <a href="https://www.microsoft.com/en-us/download/details.aspx?displaylang=en&amp;id=11774">Microsoft SQL Server JDBC Driver 4.0</a>.</p>
</li>
<li>
<p>Copy the <code>sqljdbc_xa.dll</code> from <code>%JDBC_DRIVER_INSTALL_ROOT%\sqljdbc_4.0\enu\xa\x64\</code> (x64 for 64 bit version of Windows, x86 for 32 bit version of Windows) to <code>%SQLSERVER_INSTALL_ROOT%\Instance_root\MSSQL11.MSSQLSERVER\MSSQL\Binn\.</code></p>
</li>
<li>
<p>Copy/paste the content of xa_install.sql file (located in %JDBC_DRIVER_INSTALL_ROOT%\sqljdbc_4.0\enu\xa) to SQL Server Management Studio&#8217;s Query Editor.</p>
</li>
<li>
<p>Execute the query in the Query Editor.</p>
</li>
<li>
<p>To confirm successful execution of the script, open the "Object Explorer" and go to: <strong>Master</strong> &gt; <strong>Programmability</strong> &gt; <strong>Extended Stored Procedures</strong>.<br>
You should have 12 new procedures, each with a name starting with <code>dbo.xp.sqljdbc_xa_</code>.</p>
</li>
<li>
<p>Assign the new role 'SqlJDBCXAUser' to the user who owns the Bonita BPM Engine database (<code>bonitadev</code> in our example). To do this, execute the following commands in SQL editor:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">USE master;
GO
CREATE LOGIN bonitadev WITH PASSWORD = 'secret_password';
GO
CREATE USER bonitadev FOR LOGIN bonitadev;
GO
EXEC sp_addrolemember [SqlJDBCXAUser], 'bonitadev';
GO</code></pre>
</div>
</div>
</li>
<li>
<p>In the Windows "Start" menu, select <strong>Administrative Tools</strong>-&gt; <strong>Services</strong>.</p>
</li>
<li>
<p>In the "Services" window, make sure that the <strong>Distributed Transaction Coordinator</strong> service is set to start automatically. If it&#8217;s not yet started, start it.</p>
</li>
<li>
<p>Make sure that the other services it depends on, namely "Remote Procedure Call" and "Security Accounts Manager", are also set to start automatically.</p>
</li>
<li>
<p>Run the <code>dcomcnfg</code> command, or go to the "Start" menu, then Administrative Tools &gt; Component Services.</p>
</li>
<li>
<p>In the left navigation pane, navigate to <strong>Component Services</strong> &gt; <strong>Computers</strong> &gt; <strong>My Computer</strong> &gt; <strong>Distributed Transaction Coordinator</strong>.</p>
</li>
<li>
<p>Select and right-click on <em>*Local DTC*</em> and then <em>*Properties*</em>.</p>
</li>
<li>
<p>Click on <em>*Security*</em> tab. Ensure that the checkbox for <strong>Enable XA Transactions</strong> is checked.</p>
</li>
<li>
<p>Click <em>*Apply*</em>, then click <em>*OK*</em></p>
</li>
<li>
<p>Then stop and restart SQLServer.</p>
</li>
<li>
<p>Create the BONITA_BPM database: <code>CREATE DATABASE BONITA_BPM GO</code>.</p>
</li>
<li>
<p>Set <code>bonitadev</code> as owner of BONITA_BPM database (use, for example, 'Microsoft SQL Management Studio')</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_recommended_configuration_for_lock_management"><a class="anchor" href="#_recommended_configuration_for_lock_management"></a>Recommended configuration for lock management</h4>
<div class="paragraph">
<p>Run the script below to avoid deadlocks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER DATABASE BONITA_BPM SET SINGLE_USER WITH ROLLBACK IMMEDIATE
ALTER DATABASE BONITA_BPM SET ALLOW_SNAPSHOT_ISOLATION ON
ALTER DATABASE BONITA_BPM SET READ_COMMITTED_SNAPSHOT ON
ALTER DATABASE BONITA_BPM SET MULTI_USER</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="https://msdn.microsoft.com/en-us/library/ms175095(v=sql.110).aspx">MSDN</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_recommended_configuration_for_in_doubt_xact_resolution"><a class="anchor" href="#_recommended_configuration_for_in_doubt_xact_resolution"></a>Recommended configuration for in-doubt xact resolution</h4>
<div class="paragraph">
<p>Run the script below to avoid that the SQL Server changes the status of databases to SUSPECT during database server startup when in-doubt XA transactions are found.<br>
The value 2 in the block below means <em>presume abort</em>.<br>
To minimize the possibility of extended down time, an administrator might choose to configure this option to presume abort, as shown in the following example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">sp_configure 'show advanced options', 1
GO
RECONFIGURE
GO
sp_configure 'in-doubt xact resolution', 2
GO
RECONFIGURE
GO
sp_configure 'show advanced options', 0
GO
RECONFIGURE
GO</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="https://msdn.microsoft.com/en-us/library/ms179586%28v%3Dsql.110%29.aspx">in-doubt xact resolution Server Configuration Option</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mysql"><a class="anchor" href="#_mysql"></a>MySQL</h3>
<div class="sect3">
<h4 id="_maximum_packet_size"><a class="anchor" href="#_maximum_packet_size"></a>Maximum packet size</h4>
<div class="paragraph">
<p>MySQL defines a maximum packet size on the server side. The default value for this settings are appropriate for most standard use cases.
However, you need to increase the packet size if you see the following error:
<code>Error: 1153 SQLSTATE: 08S01 (ER_NET_PACKET_TOO_LARGE) Message: Got a packet bigger than 'max_allowed_packet' bytes</code></p>
</div>
<div class="paragraph">
<p>You need to update the file <code>my.ini</code> (for Windows) or <code>my.cnf</code> (for Linux) to avoid the <code>ER_NET_PACKET_TOO_LARGE</code> problem.
Look for <code>max_allowed_packet</code> settings and increase the value.</p>
</div>
<div class="paragraph">
<p>For more information, see the <a href="http://dev.mysql.com/doc/refman/5.5/en/packet-too-large.html">MySQL website</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_surrogate_characters_not_supported"><a class="anchor" href="#_surrogate_characters_not_supported"></a>Surrogate characters not supported</h4>
<div class="paragraph">
<p>MySQL does not support <a href="https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates">surrogate characters</a>.
If you want to use surrogate characters in your processes, you need to use another type of database.</p>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer>
  <div class="footer-header">
    <h3>Get useful info curated for you</h3>
    <input type="email" placeholder="Email address *" />
    <button type="submit">Subscribe</button>
  </div>
  <div class="footer-body">
    <div class="footer-content">
      <p>
        Bonitasoft fully supports digital operations and IT modernization with Bonita, an open-source and extensible
        platform for automation and optimization of business processes.
        The Bonita platform accelerates development and production with clear separation between capabilities for visual
        programming and for coding.
        Bonita integrates with existing information systems, orchestrates heterogeneous systems, and provides deep
        visibility into processes across the organization.
      </p>
    </div>
    <div class="social-links">
      <ul>
        <!-- Twitter image -->
        <li class="social-icon">
          <a href="https://twitter.com/bonitasoft" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
            </svg>
          </a>
        </li>
        <!-- Facebook image -->
        <li class="social-icon">
          <a href="https://www.facebook.com/bonitasoftbpm" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <title>Facebook icon</title>
              <path
                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
            </svg>
          </a>
        </li>
        <!-- Linkedin image -->
        <li class="social-icon">
          <a href="https://www.linkedin.com/company/bonitasoft/" target="_blank">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>LinkedIn icon</title>
              <path
                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
            </svg>
          </a>
        </li>
        <!-- RSS image -->
        <li class="social-icon">
          <a href="https://www.bonitasoft.com/blog/rss" target="_blank">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>RSS icon</title>
              <path
                d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z" />
            </svg>
          </a>
        </li>
        <!-- Youtube image -->
        <li class="social-icon">
          <a href="https://www.youtube.com/user/BonitaSoft" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <title>YouTube icon</title>
              <path
                d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
            </svg>
          </a>
        </li>
      </ul>
    </div>
    <div class="social-links">
      <ul class="border-right">
        <li><a href="https://www.bonitasoft.com/downloads">Download</a></li>
        <li><a href="https://www.bonitasoft.com/events">Events</a></li>
        <li><a href="https://community.bonitasoft.com/">Community</a></li>
        <li><a href="https://www.bonitasoft.com/sitemap">Site map</a></li>
        <li><a href="https://www.bonitasoft.com/bonitasoft-website-legal-terms-use">Terms of use</a></li>
      </ul>
    </div>
    <div class="footer-footer">
      <p>
        &copy; Bonitasoft, S.A. All rights reserved.
        <span>
          <a href="https://www.bonitasoft.com/privacy">Privacy,</a>
          <a href="https://www.bonitasoft.com/legal-notices">Legal notices</a>
        </span>
      </p>
      <a class="footer-bonita-logo" href="https://bonitasoft.github.io"></a>
    </div>
  </div>
</footer><script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    apiKey: '16267f96d135c47df8454efd5b448c9a',
    indexName: 'bonitasoft',
    inputSelector: '#search-query',
    debug: false // Set debug to true if you want to inspect the dropdown
  });
</script>
<script type="text/javascript"> docsearch({
    apiKey: '16267f96d135c47df8454efd5b448c9a',
    indexName: 'bonitasoft',
    inputSelector: '#search-query-mobile',
    debug: false // Set debug to true if you want to inspect the dropdown
    /*algoliaOptions: {
      'facetFilters': ["tags:7.3", "tags:bonita"]
    },*/
  });
</script>
  </body>
</html>
