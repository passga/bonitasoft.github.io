<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Bonita connector archetype :: Bonita Documentation</title>
    <link rel="canonical" href="https://bonitasoft.github.io/bonita/7.12/connector-archetype">
    <meta name="generator" content="Antora 2.3.4">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link rel="stylesheet" href="../../_/stylesheets/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7LLM509FEH"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-7LLM509FEH')</script>
<link rel="icon" href="../../_/img/favicon.svg" type="image/x-icon">  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a class="bonita-logo" href="https://bonitasoft.github.io"></a>
      </div>

      <button class="navbar-burger" data-target="search-container">
        <i class="search-icon" aria-hidden="true"></i>
      </button>

      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <div id="topbar-nav" class="navbar-menu">
      <div class="theme-switch-wrapper-mobile">
        <input type="checkbox" class="checkbox" onclick="toggleDarkThemeMode(this)" id="check-mobile">
        <div class="toggle-content">
          <label class="label" for="check-mobile">
            <span>🌜</span>
            <span>🌞</span>
            <div class="ball"></div>
          </label>
        </div>
      </div>
      <div class="navbar-item is-hoverable">
        <a href="https://community.bonitasoft.com/" class="navbar-link">Community</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bonita/7.12/">Bonita</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/cloud/latest/">Bonita Cloud</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bcd/3.4/">Bonita Continuous Delivery</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bici/latest/">Bonita ICI</a>
      </div>
    </div>

    <div class="navbar-search" id="search-container">
      <div class="navbar-item search-item hide-for-print">
        <input type="text" placeholder="Search Docs" class="search-bar query ds-input" id="search-query">
        <i class="search-icon" aria-hidden="true"></i>
      </div>
      <div class="theme-switch-wrapper">
        <input type="checkbox" class="checkbox" onclick="toggleDarkThemeMode(this)" id="check">
        <div class="toggle-content">
          <label class="label" for="check">
            <span>🌜</span>
            <span>🌞</span>
            <div class="ball"></div>
          </label>
        </div>
      </div>
    </div>

  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="bonita" data-version="7.7">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="./">Bonita</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="release-notes">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="migration-tool">Migration tool change log</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_application-and-process-design.adoc">Application and Process Design</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-overview">Bonita overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_application-and-process-design-overview.adoc">Application and process design overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-tutorial">Getting started tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="key-concepts">Key concepts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="comparison-of-7-x-and-6-x">Comparison of 7.x and 6.x</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lifecycle-and-profiles">Lifecycle and profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="design-methodology">Design methodology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-preferences">Bonita Studio preferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-hints-and-tips">Bonita Studio hints and tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization.adoc">Organization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-overview">Organization overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="approaches-to-managing-organizations-and-actor-mapping">Approaches to managing organizations and actor mapping</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-management-in-bonita-bpm-studio">Organization management in Bonita Studio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="custom-user-information-in-bonita-bpm-studio">Custom User Information in Bonita Studio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ldap-synchronizer">LDAP synchronizer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_profiles.adoc">Profiles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="profiles-overview">Profiles overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="profileCreation">Profiles editor</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-modeling.adoc">Process modeling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_diagrams.adoc">Diagrams</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="diagram-overview">Diagram overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="pools-and-lanes">Pools and lanes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="diagram-tasks">Tasks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="gateways">Gateways</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="transitions">Transitions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="events">Events</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="called-processes">Called processes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event-subprocesses">Event subprocesses</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="text-annotations">Text annotations</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate-a-process-from-bonita-open-solution-5-x">Migrate a process from Bonita Open Solution 5.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="naming-conventions">Naming conventions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="generate-process-documentation">Generate process documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="refactoring">Refactoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actors">Actors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actor-filtering">Actor filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="iteration">Iteration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_data.adoc">Data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-handling-overview">Data handling overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="define-and-deploy-the-bdm">Define and deploy the BDM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-access-control">Define access control on business objects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="specify-data-in-a-process-definition">Specify data in a process definition</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="parameters">Parameters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="contracts-and-contexts">Contracts and contexts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="documents">Documents</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-a-complex-data-type">Complex data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="define-a-search-index">Search keys</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="expressions-and-scripts">Expressions and scripts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operations">Operations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_page-and-form-development.adoc">Page and form development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="page-and-form-development-overview">Page and form development overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_using-the-ui-designer.adoc">UI Designer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ui-designer-overview">UI Designer overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="create-or-modify-a-page">Create or modify UI artifacts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="widgets">Widgets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="widget-properties">Widget properties</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_widget-use-examples.adoc">Widget use examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="repeat-a-container-for-a-collection-of-data">Repeat a container for a collection of data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="fragments">Fragments</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="custom-widgets">Custom widgets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="variables">Variables</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="appearance">Appearance</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="assets">Assets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="multi-language-pages">Multi-language pages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate-a-form-from-6-x">Migrate a form from 6.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="6-x-legacy-forms">6.x legacy forms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cache-configuration-and-policy">Cache configuration and policy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="applicationCreation">Application descriptor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_connectivity.adoc">Connectivity</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="connectivity-overview">Connectivity overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="alfresco">Alfresco</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cmis">CMIS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_database.adoc">Database</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="list-of-database-connectors">List of database connectors</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="database-connector-configuration">Database connector configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="graphical-query-builder">Graphical query builder</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="initialize-a-variable-from-a-database-without-scripting-or-java-code">Initialize a variable from a database without scripting or Java code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="insert-data-in-a-docx-odt-template">Insert data in a .docx/.odt template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="google-calendar">Google Calendar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ldap">LDAP</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="messaging">Messaging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="generate-pdf-from-an-office-document">Generate PDF from an Office document</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="salesforce">Salesforce</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sap-jco-2">SAP JCo 2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sap-jco-3">SAP JCo 3</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="script">Script</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="twitter">Twitter</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_web-service.adoc">Web service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="web-service-connector-overview">Web service connector overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#web-service-tutorial.adoc">Web service connector tutorial</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_reporting.adoc">Reporting</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reporting-overview">Reporting overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-a-reporting-database">Set up a reporting database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-kpis">Set up KPIs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-a-report">Create a report</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="import-and-export-a-process">Import and export a process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-configuration.adoc">Process configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-configuration-overview">Process configuration overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="environments">Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configuring-a-process">Configure a process</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manage-jar-files">Manage JAR files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="managing-dependencies">Manage dependencies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-testing.adoc">Process testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-testing-overview">Process testing overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configure-a-test-organization">Configure a test organization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="run-a-process-from-bonita-bpm-studio-for-testing">Run a process from Bonita Studio for testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-files">Log files</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="build-a-process-for-deployment">Build a process for deployment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_installation.adoc">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-installation-overview">Bonita installation overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-installation">Bonita Studio installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_basic-bonita-platform-installation.adoc">Basic Bonita Platform installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hardware-and-software-requirements">Hardware and software requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tomcat-bundle">Tomcat bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="wildfly-bundle">WildFly bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deploy-bundle">Deploy bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="BonitaBPM_platform_setup">Platform configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="database-configuration">Database creation and customization to work with Bonita</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="first-steps-after-setup">First steps after setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="licenses">Licenses</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_advanced-bonita-platform-installation.adoc">Advanced Bonita Platform installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_security-and-authentication.adoc">Security and authentication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user-authentication-overview">User authentication overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="active-directory-or-ldap-authentication">Active Directory or LDAP authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="single-sign-on-with-cas">Single sign-on with CAS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="single-sign-on-with-saml">Single sign-on with SAML</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="enforce-password-policy">Enforce password policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="rest-api-authorization">REST API authorization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="csrf-security">CSRF security</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="enable-cors-in-tomcat-bundle">Enable CORS in Tomcat bundle</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ssl">SSL</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tenant_admin_credentials">Tenant administrator credentials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-log-and-archive-levels">Set log and archive levels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurable-archive">Configurable Archive</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="performance-tuning">Performance tuning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="performance-troubleshooting">Performance troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="use-gzip-compression">Use gzip compression</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="two-main-types-of-deployment">Two main types of deployment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-in-a-cluster.adoc">Bonita in a cluster</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="overview-of-bonita-bpm-in-a-cluster">Overview of Bonita in a cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="install-a-bonita-bpm-cluster">Install a Bonita cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="cluster-administration">Cluster administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="multi-tenancy-and-tenant-configuration">Multi-tenancy and tenant configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_platform-installation-examples.adoc">Platform installation examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ubuntu-openjdk-tomcat-postgresql">Ubuntu + OpenJDK + Tomcat + PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bonita-as-windows-service">Install Tomcat with Bonita as a service in Windows</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="back-up-bonita-bpm-platform">Back up Bonita Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_migration.adoc">Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="migration-overview">Migration overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="migrate-from-an-earlier-version-of-bonita-bpm">Migrate from an earlier version of Bonita</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade-from-community-to-a-subscription-edition">Community to Subscription upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-portal-administration.adoc">Bonita Portal Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-portal-interface.adoc">Bonita Portal interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bonita-bpm-portal-interface-overview">Bonita Portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="user-task-list">User task list</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="languages">Languages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-in-and-log-out">Log in and log out</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="about">About Bonita Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-portal">Mobile Portal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-maintenance.adoc">Process maintenance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="processes">Processes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cases">Cases</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tasks">Tasks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="subtasks">Subtasks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="monitoring">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pause-and-resume-bpm-services">Pause and resume services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-management-in-bonita-bpm-portal">BDM Management in Bonita Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="applications">Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_resources.adoc">Resources</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="resource-management">Resource management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pages">Pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="forms">Forms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="layouts">Layouts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="themes">Themes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="api-extensions">REST API extensions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="live-update">Live update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization-in-bonita-portal.adoc">Organization in Bonita Portal</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-in-bonita-bpm-portal-overview">Organization in Bonita Portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization-maintenance.adoc">Organization maintenance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="import-export-an-organization">Import/export an organization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="group">Manage groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="role">Manage roles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_user.adoc">Manage users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="manage-a-user">Manage a user</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="deactivate-a-user">Deactivate a user</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="custom-user-information-in-bonita-bpm-portal">Custom User Information in Bonita Portal</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="analytics">Analytics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_user-profiles.adoc">User profiles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="administrator-rights">Administrator rights</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-manager">Process manager</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="custom-profiles">Custom profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deploying-profiles-with-export-and-import">Deploy profiles with export and import</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_look-feel.adoc">Look &amp; Feel</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="managing-look-feel">Manage Look &amp; Feel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="creating-a-new-look-feel">Create a new Look &amp; Feel</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="search-index">Search keys</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="maintenance-operation">Bonita Platform Maintenance Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_development.adoc">Development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="software-extensibility">Software extensibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-artifacts.adoc">Bonita artifacts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_connectors.adoc">Connectors</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="connectors-overview">Connectors overview</a>
  </li>
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="connector-archetype">Bonita connector archetype</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actor-filter-archetype">Create an actor filter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="api-glossary">API glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_rest-api.adoc">REST API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-overview">REST API overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-authentication">REST Authentication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="application-api">application API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="access-control-api">access control API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-api">bdm API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bpm-api">bpm API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="customuserinfo-api">customuserinfo API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="form-api">form API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-api">identity API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="platform-api">platform API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="portal-api">portal API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-api">system API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tenant-api">tenant API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-extensions">REST API extensions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manage-files-using-upload-servlet-and-rest-api">Manage files using upload servlet and REST API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_engine-api.adoc">Engine API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="engine-api-overview">Engine API overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-your-first-project-with-the-engine-apis-and-maven">Create your first project with the Engine APIs and Maven</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configure-client-of-bonita-bpm-engine">Configure connection to Bonita Engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="http://documentation.bonitasoft.com/javadoc/api/$7.7/index.html">Javadoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_examples.adoc">Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-a-process">Manage a process</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handle-a-failed-activity">Handle a failed activity</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-an-organization">Manage an organization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-users">Manage users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handling-documents">Handle documents</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="create-administration-tools">Create administration tools</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="restore-default-look-feel">Restore the default Look &amp; Feel</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-the-platform">Manage the platform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="using-list-and-search-methods">List and search methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-in-with-cas">Log in with CAS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-portal-urls">Bonita Portal URLs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_engine-architecture.adoc">Bonita Engine architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="engine-architecture-overview">Bonita Engine architecture overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_services.adoc">Services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event-handlers">Event handlers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="queriable-logging">Queriable logger</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="execution-sequence-states-and-transactions">BPM process / task execution sequence</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_living-application.adoc">Living application</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="customize-living-application-layout">Customize living application layout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="logging">Logs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="preloading-the-forms-cache">Preload the forms cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="workspaces-and-repositories">Workspaces and repositories</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-community-edition-from-source">Build Bonita Community edition from source files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_continuous-integration.adoc">Continuous integration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="automating-builds">Automate builds</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-continuous-integration">Set up continuous integration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_howtos.adoc">Howtos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uid-modal-tutorial">Create a modal window using CSS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uid-case-overview-tutorial">Create a case overview page using the UI Designer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="optimize-user-tasklist">Create unique task names for the user task list</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manage-control-in-forms">Control and validate forms in the UI Designer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="list-of-documents">Manage a list of documents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bo-multiple-refs-tutorial">Manage multiple references in Business Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="custom-authorization-rule-mapping">Map authorization rules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rta-mail-template">Use the rich textarea widget in a mail template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="datetimes-management-tutorial">Manage dates and times in BDM and User Interfaces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bdm-in-rest-api">Manage BDM in custom Rest APIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="share-a-repository-on-github">Share a repository on GitHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="migrate-a-svn-repository-to-github">Migrate a SVN repository to a Git repository</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-maven">Configure Maven</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Bonita</span>
    <span class="version">7.7</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Bonita</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../7.12/">7.12</a>
        </li>
        <li class="version">
          <a href="../7.11/">7.11</a>
        </li>
        <li class="version">
          <a href="../7.10/">7.10</a>
        </li>
        <li class="version">
          <a href="../7.9/">7.9</a>
        </li>
        <li class="version">
          <a href="../7.8/">7.8</a>
        </li>
        <li class="version is-current">
          <a href="./">7.7</a>
        </li>
        <li class="version">
          <a href="../7.6/">7.6</a>
        </li>
        <li class="version">
          <a href="../7.5/">7.5</a>
        </li>
        <li class="version">
          <a href="../7.4/">7.4</a>
        </li>
        <li class="version">
          <a href="../7.3/">7.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita Cloud</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cloud/latest/">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita Continuous Delivery</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../bcd/3.4/">3.4</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita ICI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../bici/latest/">labs</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>  <a href="../7.12/" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="./">Bonita</a></li>
    <li><a href="#_development.adoc">Development</a></li>
    <li><a href="#_bonita-artifacts.adoc">Bonita artifacts</a></li>
    <li><a href="#_connectors.adoc">Connectors</a></li>
    <li><a href="connector-archetype">Bonita connector archetype</a></li>
  </ul>
</nav>
  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">7.7</button>
  <div class="version-menu">
    <a class="version" href="../7.12/connector-archetype">7.12</a>
    <a class="version" href="../7.11/connector-archetype">7.11</a>
    <a class="version" href="../7.10/connector-archetype">7.10</a>
    <a class="version" href="../7.9/connector-archetype">7.9</a>
    <a class="version" href="../7.8/connector-archetype">7.8</a>
    <a class="version is-current" href="connector-archetype">7.7</a>
    <a class="version is-missing" href="../7.6/">7.6</a>
    <a class="version is-missing" href="../7.5/">7.5</a>
    <a class="version is-missing" href="../7.4/">7.4</a>
    <a class="version is-missing" href="../7.3/">7.3</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/bonitasoft/bonita-doc/edit/7.7_asciidoctor/modules/ROOT/pages/connector-archetype.adoc">Edit this Page</a></div>
  </div>  <div class="content">
<article class="doc">
<h1 class="page">Bonita connector archetype</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A set of best of breed tools to develop and test custom connectors independently of the Bonita Studio.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_custom_connector"><a class="anchor" href="#_create_a_custom_connector"></a>Create a custom connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bonita offers the possibility to create and plug custom connectors, to allow you to connect with any external system you may need.<br>
We provide a maven archetype to help you to bootstrap a connector project. The source code of the archetype is available <a href="https://github.com/bonitasoft/bonita-connector-archetype">here</a>.</p>
</div>
<div class="sect2">
<h3 id="_prerequisite"><a class="anchor" href="#_prerequisite"></a>Prerequisite</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Java 8 must be installed: <a href="https://adoptopenjdk.net/index.html" class="bare">https://adoptopenjdk.net/index.html</a></p>
</li>
<li>
<p>Maven must be installed: <a href="https://maven.apache.org/install.html" class="bare">https://maven.apache.org/install.html</a></p>
</li>
<li>
<p>Connector development requires some software development skills. The archetype offers the possibility to develop the connector in <em>Java</em>, <em>Groovy</em> or <em>Kotlin</em>. Make sure that you are comfortable with at least one of those three languages.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_generate_the_project_using_the_maven_archetype"><a class="anchor" href="#_generate_the_project_using_the_maven_archetype"></a>Generate the project using the maven archetype</h3>
<div class="paragraph">
<p>A <a href="https://maven.apache.org/archetype/index.html">maven archetype</a> is a maven project templating toolkit. This archetype allows you to bootstrap a Bonita connector project on your file system. A Bonita connector project is a maven project. It can be built, tested and then imported into a Bonita project using Bonita Studio.</p>
</div>
<div class="paragraph">
<p>To create your connector project, prompt a terminal and enter the following command:
WARNING:
<strong>Warning:</strong> Make sure that you are not executing the command from an existing maven project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn archetype:generate -DarchetypeGroupId=org.bonitasoft.archetypes -DarchetypeArtifactId=bonita-connector-archetype</pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll then have to specify interactively the properties of your project:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>groupId:</strong> the group id of your connector.</p>
</li>
<li>
<p><strong>artifactId:</strong> the artifact id of your connector</p>
<div class="ulist">
<ul>
<li>
<p>Must match the following regex: <code>^[a-zA-Z0-9\-]+$</code></p>
</li>
<li>
<p>Example: <em>myConnector-1</em></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>version:</strong> the version of your connector <em>(default value: 1.0-SNAPSHOT)</em>
Follow the <a href="http://maven.apache.org/guides/mini/guide-naming-conventions.html">maven naming convention guide</a></p>
</li>
<li>
<p><strong>package</strong> the package in which the connector source files will be created <em>(default value: the group id of the connector)</em></p>
</li>
<li>
<p><strong>bonitaVersion:</strong> the targeted Bonita version</p>
<div class="ulist">
<ul>
<li>
<p>A Bonita connector project depends on <em>org.bonitasoft.engine:bonita-common</em>. To avoid potential conflicts / errors at runtime, you should use the Bonita version of your runtime environment.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>className:</strong> the class name of your connector</p>
<div class="ulist">
<ul>
<li>
<p>Must match the following regex: <code>^[a-zA-Z_$][a-zA-Z\d_$]+$</code> (A Java classname valid identifier)</p>
</li>
<li>
<p>Example: <em>MyConnector1</em></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>language</strong>: the language used in the connector project. Available values:</p>
<div class="ulist">
<ul>
<li>
<p>java</p>
</li>
<li>
<p>groovy</p>
</li>
<li>
<p>kotlin</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>A folder named <em>[your artifact id]</em> is created, with your Bonita connector project, ready to use.</p>
</div>
<div class="paragraph">
<p>⚠️ You can avoid the interactive mode by specifying all properties of your project directly in the command line, but by doing that you&#8217;ll bypass the validation performed on the properties content.</p>
</div>
</div>
<div class="sect2">
<h3 id="_connector_developpment"><a class="anchor" href="#_connector_developpment"></a>Connector developpment</h3>
<div class="paragraph">
<p>In this section we&#8217;ll look into the different components of a connector project, and how you should use them to develop your connector.</p>
</div>
<div class="sect3">
<h4 id="_definition"><a class="anchor" href="#_definition"></a>Definition</h4>
<div class="paragraph">
<p>A connector is first defined by its <strong>definition</strong>.  It is an XML file located in <em>src/main/resources/[artifactId].def</em> by default.<br>
A connector definition defines the inputs and the outputs of a connector. It can be seen as a black box. The definition explicits what will be passed to the connector, and what is expected as output. Then, implementations of this definition can be created, they just need to respect the inputs / outputs contract of the definition.</p>
</div>
<div class="paragraph">
<p>The connector definition XSD is available in <em>schemas/connector-definition-descriptor.xsd</em>, you can import it in a IDE to get completion.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/connector-def-xsd-overview.png" alt="Connector definition xsd overview">
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;definition:ConnectorDefinition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:definition="http://www.bonitasoft.org/ns/connector/definition/6.1"&gt;
    &lt;id&gt;myConnector&lt;/id&gt; &lt;!-- Id of the definition --&gt;
    &lt;version&gt;1.0.0&lt;/version&gt; &lt;!-- Version of the definition --&gt;
    &lt;icon&gt;connector.png&lt;/icon&gt; &lt;!-- The icon used in the Studio for this definition --&gt;
    &lt;category icon="connector.png" id="Custom"/&gt; &lt;!-- The category of this definition, used in the Studio (e.g: http, script ...) --&gt;

    &lt;!-- Connector inputs --&gt;
    &lt;input mandatory="true" name="defaultInput" type="java.lang.String"/&gt;

    &lt;!-- Connector outputs --&gt;
    &lt;output name="defaultOutput" type="java.lang.String"/&gt;

    &lt;!--
       Pages and widgets to use the connector in the Bonita Studio.
       - Each widget must be bound to an input
       - Page titles must be defined in the properties files
       - Widget labels must be defined in the properties files
       - Page and widget descriptions can be defined in the properties files (optional)
    --&gt;
    &lt;page id="defaultPage"&gt;
        &lt;widget xsi:type="definition:Text" id="defaultInputWidget" inputName="defaultInput"/&gt;
    &lt;/page&gt;

&lt;/definition:ConnectorDefinition&gt;</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_connector_inputs"><a class="anchor" href="#_connector_inputs"></a>Connector Inputs</h5>
<div class="paragraph">
<p>The inputs of a connector are defined in the definition. Those inputs are valued by processes, and are retrieved by the implementation classes of the connector to execute the business logic.<br>
A connector input:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Has a name</p>
</li>
<li>
<p>Has a type</p>
</li>
<li>
<p>Has an optional default value</p>
</li>
<li>
<p>Can be mandatory</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_connector_outputs"><a class="anchor" href="#_connector_outputs"></a>Connector Outputs</h5>
<div class="paragraph">
<p>The outputs of a connector are defined in the definition. Those outputs are valued by the implementation classes of the connector, and are used by processes.<br>
A connector output:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Has a name</p>
</li>
<li>
<p>Has a type</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pages_and_widgets"><a class="anchor" href="#_pages_and_widgets"></a>Pages and widgets</h5>
<div class="paragraph">
<p>A connector definition includes <em>pages</em> and <em>widgets</em>.  Those elements define the UI that will appear in the Bonita Studio to configure the connector.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A widget is bound to an input</p>
</li>
<li>
<p>A page contains a set of widgets</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The idea is to create pages for related inputs, so the person who will configure the connector will easily understand what he has to do.</p>
</div>
<div class="paragraph">
<p>All the available widgets are defined in the XSD. You must reference the widget type in the tag to create a specific widget:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;widget  xsi:type="definition:[WIDGET TYPE]"  id="[WIDGET ID]"  inputName="[CORRESPONDING INPUT]"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The widget id is used in the <em>.properties</em> files to define and translate the widget name and the widget description.<br>
The input name is used to bind this widget to one of the connector inputs.</p>
</div>
<div class="paragraph">
<p>Some widgets can require additional informations. For example, if you want to create a select widget with a set of item to select, you will have to do something like that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;widget xsi:type="definition:Select" id="choiceWidget" inputName="choice"&gt;
    &lt;items&gt;Choice 1&lt;/items&gt;
    &lt;items&gt;Choice 2&lt;/items&gt;
    &lt;items&gt;Choice 3&lt;/items&gt;
&lt;/widget&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>WARNING:
<strong>Warning:</strong> As widgets are displayed in a dialog window in the Studio, be careful to not use too many widgets in the same page.
Use Group widget if you need to stack a lot of widgets in the same page.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connector_implementation"><a class="anchor" href="#_connector_implementation"></a>Connector implementation</h4>
<div class="paragraph">
<p>A <em>connector implementation</em> implements a connector definition. A definition defines a set on inputs / outputs, implementing a definition means use the provided inputs to create the expected outputs.<br>
Several implementations can be created for a given definition. A connector implementation can be updated at runtime in a Bonita bundle, as long as it implements the same definition.</p>
</div>
<div class="paragraph">
<p>A connector implementation is made of two elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An xml file used to explicit the definition implemented, the dependencies required and the location of the implementation sources</p>
</li>
<li>
<p>A set of Java based classes, constituting the implementation sources</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_implementation_xml_file"><a class="anchor" href="#_implementation_xml_file"></a>Implementation XML file</h5>
<div class="paragraph">
<p>The implementation XML file is located in <em>src/main/resources/[connector name].impl</em> by default.<br>
The connector definition XSD is available in <em>schemas/connector-implementation-descriptor.xsd</em>, you can import it in a IDE to get completion.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/connector-impl-xsd-overview.png" alt="Connector implementation xsd overview">
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;implementation:connectorImplementation xmlns:implementation="http://www.bonitasoft.org/ns/connector/implementation/6.0"&gt;
  &lt;implementationId&gt;myConnector-impl&lt;/implementationId&gt; &lt;!-- Id of the implementation --&gt;
  &lt;implementationVersion&gt;$implementation.version$&lt;/implementationVersion&gt; &lt;!-- Version of the implementation, retrieved from the pom.xml at build time -&gt; ${project.version} --&gt;
  &lt;definitionId&gt;myConnector&lt;/definitionId&gt; &lt;!-- Id of the definition implemented --&gt;
  &lt;definitionVersion&gt;1.0.0&lt;/definitionVersion&gt; &lt;!-- Version of the definition implemented --&gt;
  &lt;implementationClassname&gt;myGroupId.Connector&lt;/implementationClassname&gt; &lt;!-- Path to the main implementation class --&gt;
  &lt;description&gt;Default connector implementation&lt;/description&gt;

&lt;!-- Implementation dependencies, retrieved from the pom.xml at build time --&gt;
$Dependencies$

&lt;/implementation:connectorImplementation&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_implementation_sources"><a class="anchor" href="#_implementation_sources"></a>Implementation sources</h5>
<div class="paragraph">
<p>The implementation sources contain all the logic of the connector:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The validation of the inputs</p>
</li>
<li>
<p>The connection / disconnection to any external system <em>(if required)</em></p>
</li>
<li>
<p>The execution of the business logic and the  creation of the outputs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The archetype offers the possibility to generate the default sources in Java, Groovy or Kotlin. The build result will always be a Java archive (jar), no matters the langage selected.</p>
</div>
<div class="paragraph">
<p>The entry point of the implementation sources must extend the class <em>`org.bonitasoft.engine.connector.AbstractConnector`</em>.</p>
</div>
<div class="paragraph">
<p>Example (<em>Groovy</em>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">package myGroupId

import org.bonitasoft.engine.connector.AbstractConnector;
import org.bonitasoft.engine.connector.ConnectorException;
import org.bonitasoft.engine.connector.ConnectorValidationException;

class Connector extends AbstractConnector {

    def defaultInput = "defaultInput"
    def defaultOutput = "defaultOutput"

    /**
     * Perform validation on the inputs defined on the connector definition (src/main/resources/myConnector.def)
     * You should:
     * - validate that mandatory inputs are presents
     * - validate that the content of the inputs is coherent with your use case (e.g: validate that a date is / isn't in the past ...)
     */
    @Override
    def void validateInputParameters() throws ConnectorValidationException {
        checkMandatoryStringInput(defaultInput)
    }

    def checkMandatoryStringInput(inputName) throws ConnectorValidationException {
        def value = getInputParameter(inputName)
        if (value in String) {
            if (!value) {
                throw new ConnectorValidationException(this, "Mandatory parameter '$inputName' is missing.")
            }
        } else {
            throw new ConnectorValidationException(this, "'$inputName' parameter must be a String")
        }
    }

    /**
     * Core method:
     * - Execute all the business logic of your connector using the inputs (connect to an external service, compute some values ...).
     * - Set the output of the connector execution. If outputs are not set, connector fails.
     */
    @Override
    def void executeBusinessLogic() throws ConnectorException {
        def defaultInput = getInputParameter(defaultInput)
        setOutputParameter(defaultOutput, "$defaultInput - output".toString())
    }

    /**
     * [Optional] Open a connection to remote server
     */
    @Override
    def void connect() throws ConnectorException{}

    /**
     * [Optional] Close connection to remote server
     */
    @Override
    def void disconnect() throws ConnectorException{}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The methods <em>validateInputParameters</em> and <em>executeBusinessLogic</em> must be implemented, and are called by the Bonita engine when the connector is executed.<br>
The methods <em>connect</em> and <em>disconnect</em> can be used to open and close a connection to a remote server.  The life cycle of the connection will then be managed by the Bonita engine.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_build_a_connector_project"><a class="anchor" href="#_build_a_connector_project"></a>Build a connector project</h4>
<div class="paragraph">
<p>A connector project is built using Maven, and especially the <a href="https://maven.apache.org/plugins/maven-assembly-plugin/">maven assembly plugin</a>.<br>
The root <em>pom.xml</em> file has the following parent:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;parent&gt;
    &lt;groupId&gt;org.bonitasoft.connectors&lt;/groupId&gt;
    &lt;artifactId&gt;bonita-connectors&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/parent&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This parent contains the logic that make the replacements in the implementation xml file at build time.</p>
</div>
<div class="paragraph">
<p>By default, a zip archives is built containing all the definitions and implementations found in the project.
By importing this archive in a Bonita Studio you will import all the definitions and implementations created in the project</p>
</div>
<div class="paragraph">
<p>To build the connector project, type the following command at the root of the project :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./mvnw clean install</pre>
</div>
</div>
<div class="paragraph">
<p>The built archive can be found in here <code>target/[artifact id]-[artifact version].zip</code> after the build.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this example, we are going to create a connector to communicate with the <a href="https://swapi.dev/">Star Wars API</a>. It will take in input a Star Wars character name, and will return details on this character.</p>
</div>
<div class="paragraph">
<p>This connector will be implemented using:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://groovy-lang.org/">Groovy</a>: <em>A programming language based on the JVM</em></p>
</li>
<li>
<p><a href="http://spockframework.org/">Spock</a>: <em>A test framework for Groovy applications</em></p>
</li>
<li>
<p><a href="https://square.github.io/retrofit/">Retrofit</a>: <em>A library which allows to create typed http clients</em></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_1_generate_project_and_retrieve_dependencies"><a class="anchor" href="#_1_generate_project_and_retrieve_dependencies"></a>1 - Generate project and retrieve dependencies</h3>
<div class="paragraph">
<p>The first step is to generate  the maven project using the archetype:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn archetype:generate -DarchetypeGroupId=org.bonitasoft.archetypes -DarchetypeArtifactId=bonita-connector-archetype</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>groupId</strong>: com.company.connector</p>
</li>
<li>
<p><strong>artifactId</strong>: connector-starwars</p>
</li>
<li>
<p><strong>version</strong>: 1.0.0-SNAPSHOT</p>
</li>
<li>
<p><strong>package</strong>: com.company.connector</p>
</li>
<li>
<p><strong>bonitaVersion</strong>: <em>[Your Bonita version]</em> (ex: 7.10.4)</p>
</li>
<li>
<p><strong>className</strong>: ConnectorStarWars</p>
</li>
<li>
<p><strong>language</strong>: groovy</p>
</li>
<li>
<p><strong>wrapper</strong>: true</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The generated project has the following skeleton:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/connector-archetype-example/connector-project-overview.png" alt="Connector project overview">
</div>
</div>
<div class="paragraph">
<p>Add the following properties and dependencies to the existing ones in the pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;properties&gt;
    &lt;retrofit.version&gt;2.9.0&lt;/retrofit.version&gt;
    &lt;logging-interceptor.version&gt;3.11.0&lt;/logging-interceptor.version&gt;
    &lt;converter-jackson.version&gt;2.4.0&lt;/converter-jackson.version&gt;
    &lt;mockwebserver.version&gt;3.14.8&lt;/mockwebserver.version&gt;
&lt;/properties&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;
        &lt;artifactId&gt;retrofit&lt;/artifactId&gt;
        &lt;version&gt;${retrofit.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;
        &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;
        &lt;version&gt;${logging-interceptor.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;
        &lt;artifactId&gt;converter-jackson&lt;/artifactId&gt;
        &lt;version&gt;${converter-jackson.version}&lt;/version&gt;
        &lt;exclusions&gt;
            &lt;exclusion&gt;
                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
            &lt;/exclusion&gt;
        &lt;/exclusions&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;
        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;
        &lt;version&gt;${mockwebserver.version}&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are interested by test coverage, you can add the following jacoco configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;
    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;0.8.5&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;prepare-agent&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
        &lt;!-- attached to Maven test phase --&gt;
        &lt;execution&gt;
            &lt;id&gt;report&lt;/id&gt;
            &lt;phase&gt;test&lt;/phase&gt;
            &lt;goals&gt;
                &lt;goal&gt;report&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2_define_connector_inputs"><a class="anchor" href="#_2_define_connector_inputs"></a>2 - Define connector inputs</h3>
<div class="paragraph">
<p>The connector inputs are defined in the connector definition.<br>
Open the file <em>src/main/resources/connector-starwars.def</em><br>
We are first going to create two inputs for the connector:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An input <strong><em>name</em></strong>, which will contain the name of a star wars character</p>
</li>
<li>
<p>An input <strong><em>url</em></strong>, which will contain the API server url (so if the API server URL changes in the future, the service will still be usable).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Remove the default input from the definition, and add the two following inputs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;input mandatory="true" name="name" type="java.lang.String"/&gt;
&lt;input mandatory="true" name="url" type="java.lang.String" defaultValue="http://swapi.dev/"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we are going to create a <em>page</em> and two <em>widgets</em> for those inputs. <em>Pages</em> and <em>widgets</em> are used by the Bonita Studio to create a User Interface from the connector definition.</p>
</div>
<div class="paragraph">
<p>Replace the default page by the following one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;page id="starWarsPage"&gt;
    &lt;!--
    A widget has a type (Text, combo box ...), an id and an input name.
    - The name must reference an existing input
    - The id is used in the property file to reference the widget
    --&gt;
    &lt;widget xsi:type="definition:Text" id="nameWidget" inputName="name"/&gt;
    &lt;widget xsi:type="definition:Text" id="urlWidget" inputName="url"/&gt;
&lt;/page&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For each page and widget , a name and a description must be added  in the property file, else the Studio is unable to display the element.<br>
Open the file <em>src/main/resources/connector-starwars.properties</em> and replace the content for the default page and widgets by the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>starWarsPage.pageTitle=Star Wars connector - configuration page
starWarsPage.pageDescription=Indicate a Star Wars character name, and the service base URl if required.
nameWidget.label=Character name
nameWidget.description=The name of the character to retrieve
urlWidget.label=URL
urlWidget.description=The service base url</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_create_the_retrofit_service_and_the_model"><a class="anchor" href="#_3_create_the_retrofit_service_and_the_model"></a>3 - Create the retrofit service and the model</h3>
<div class="paragraph">
<p>Retrofit is a library allowing to create typed HTTP clients.<br>
We will first create a data model, and then a retrofit service typed with this model.</p>
</div>
<div class="sect3">
<h4 id="_the_model"><a class="anchor" href="#_the_model"></a>The model</h4>
<div class="paragraph">
<p>The model should match the API response structure, else some custom convertors are required.<br>
Here is an example of an API call and the response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>GET /api/people/?search=yoda</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "count": 1,
    "next": null,
    "previous": null,
    "results": [
        {
            "name": "Yoda",
            "height": "66",
            "mass": "17",
            "hair_color": "white",
            "skin_color": "green",
            "eye_color": "brown",
            "birth_year": "896BBY",
            "gender": "male"
            ...
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Our model will contain two Classes :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>PersonResponse</em></strong>, which will represent the raw response, and only contain the result list.</p>
</li>
<li>
<p><strong><em>Person</em></strong>, which will represent an element of the result list.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Create a new package <em>model</em> in the package <em>com.company.connector</em>, and add those two classes in this package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">package com.company.connector.model

import com.fasterxml.jackson.annotation.JsonIgnoreProperties

@JsonIgnoreProperties(ignoreUnknown = true)
class Person implements Serializable {

    String name

    String gender

    String height

    String homeworld
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">package com.company.connector.model

import com.fasterxml.jackson.annotation.JsonIgnoreProperties
import com.fasterxml.jackson.annotation.JsonProperty

@JsonIgnoreProperties(ignoreUnknown = true)
class PersonResponse implements Serializable {

    @JsonProperty("results")
    List&lt;Person&gt; persons = []
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>note:</em> The API returns many informations about a single star wars character. In order to keep it simple, we decided to just include a few of them in our Person model, but fill free to add other fields if you want to.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_service"><a class="anchor" href="#_the_service"></a>The service</h4>
<div class="paragraph">
<p>A retrofit service is a Java interface. Specific annotations on methods are used to define the service.<br>
In the package <em>com.company.connector</em>, create the Interface <em>StarWarsService</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">package com.company.connector

import com.company.connector.model.PersonResponse
import retrofit2.Call
import retrofit2.http.GET
import retrofit2.http.Headers
import retrofit2.http.Query

interface StarWarsService {

    @Headers("Accept: application/json")
    @GET("api/people")
    def Call&lt;PersonResponse&gt; person(@Query("search") String name)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This service declares a single GET endpoint on <em>api/people</em>, with a query parameter <em>search</em>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_define_connector_output"><a class="anchor" href="#_4_define_connector_output"></a>4 - Define connector output</h3>
<div class="paragraph">
<p>Now that the model is created, we can define the connector outputs.<br>
Connector outputs are defined in the definition.<br>
Open the file <em>src/main/resources/connector-starwars.def</em>, and replace the default output by the following one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;output name="person" type="com.company.connector.model.Person"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>note:</em> The type of a connector output must be <strong><em>serializable</em></strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_5_implement_and_test_connector_logic"><a class="anchor" href="#_5_implement_and_test_connector_logic"></a>5 - Implement and test connector logic</h3>
<div class="paragraph">
<p>The main class of the connector has already been created during the project generation. This class is in charge of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Performing validation on connector inputs</p>
</li>
<li>
<p>Connecting / disconnecting to any external service</p>
</li>
<li>
<p>Executing the connector logic (call the API in our case)</p>
</li>
<li>
<p>Setting connector outputs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The main class of a connector is referenced in the implementation. In our case, it&#8217;s the class <em>ConnectorStarWars</em>.<br>
Open the file <em>src/main/groovy/com.company.connector.ConnectorStarWars.groovy</em>, and the associated test file <em>src/test/groovy/com.company.connector.ConnectorStarWarsTest.groovy</em></p>
</div>
<div class="paragraph">
<p>We will complete and test this class in three steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Input validation</p>
</li>
<li>
<p>Retrofit service creation</p>
</li>
<li>
<p>API call</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_input_validation"><a class="anchor" href="#_input_validation"></a>Input validation</h4>
<div class="paragraph">
<p>We will only validate that the two mandatory String inputs are provided by the user.<br>
Complete the method <em>validateInputParameters</em> with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">    def static final NAME_INPUT = "name"
    def static final URL_INPUT = "url"

    @Override
    def void validateInputParameters() throws ConnectorValidationException {
        checkMandatoryStringInput(NAME_INPUT)
        checkMandatoryStringInput(URL_INPUT)
    }

    def checkMandatoryStringInput(inputName) throws ConnectorValidationException {
        def value = getInputParameter(inputName)
        if (value in String) {
            if (!value) {
                throw new ConnectorValidationException(this, "Mandatory parameter '$inputName' is missing.")
            }
        } else {
            throw new ConnectorValidationException(this, "'$inputName' parameter must be a String")
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add the following tests in the test class, to validate the behavior when an input is incorrect:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">    def should_throw_exception_if_mandatory_input_is_missing() {
        given: 'Connector with missing input'
        def connector = new ConnectorStarWars()

        when: 'Validating inputs'
        connector.validateInputParameters()

        then: 'ConnectorValidationException is thrown'
        thrown ConnectorValidationException
    }

    def should_throw_exception_if_mandatory_input_is_empty() {
        given: 'A connector without an empty input'
        def connector = new ConnectorStarWars()
        connector.setInputParameters([(ConnectorStarWars.NAME_INPUT):''])

        when: 'Validating inputs'
        connector.validateInputParameters()

        then: 'ConnectorValidationException is thrown'
        thrown ConnectorValidationException
    }

    def should_throw_exception_if_mandatory_input_is_not_a_string() {
        given: 'A connector without an integer input'
        def connector = new ConnectorStarWars()
        connector.setInputParameters([(ConnectorStarWars.NAME_INPUT):38])

        when: 'Validating inputs'
        connector.validateInputParameters()

        then: 'ConnectorValidationException is thrown'
        thrown ConnectorValidationException
    }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_retrofit_service_creation"><a class="anchor" href="#_retrofit_service_creation"></a>Retrofit service creation</h4>
<div class="paragraph">
<p>In the class <em>ConnectorStarWars</em>, replace the method <em>connect</em> by the following one. We do not need to implement the disconnect method, as there is no authentication.
Creating the service in the <em>connect</em> method  ensure that the service will be created once (and only once) before the logic execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def StarWarsService service

@Override
def void connect() throws ConnectorException {
    def httpClient = createHttpClient(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BASIC))
    service = createService(httpClient, getInputParameter(URL_INPUT))
}

def static OkHttpClient createHttpClient(Interceptor... interceptors) {
    def clientBuilder = new OkHttpClient.Builder()
    if (interceptors) {
        interceptors.each { clientBuilder.interceptors().add(it) }
    }
    clientBuilder.build()
}

def static StarWarsService createService(OkHttpClient client, String baseUrl) {
    new Retrofit.Builder()
            .client(client)
            .addConverterFactory(JacksonConverterFactory.create())
            .baseUrl(baseUrl)
            .build()
            .create(StarWarsService.class)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The service is created using a http client with a simple logging interceptor, and the retrofit builder.<br>
Our model matchs the HTTP response so we do not need to provide custom convertor to the retrofit builder.</p>
</div>
<div class="paragraph">
<p>We are going to create an integration test for this service:<br>
in <em>src/test/groovy</em>, create the class <em>com.company.connector.StarWarsServiceTest.groovy</em> with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">package com.company.connector

import com.company.connector.model.PersonResponse
import okhttp3.logging.HttpLoggingInterceptor
import retrofit2.Response
import spock.lang.Specification

class StarWarsServiceTest extends Specification {

    /**
     * Service integration test - internet required
     */
    def should_retrieve_luke_data_using_retrofit() {
        given: 'A service'
        def httpClient = ConnectorStarWars.createHttpClient(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))
        def service = ConnectorStarWars.createService(httpClient, "http://swapi.dev/")

        when: 'Searching for luke'
        def call = service.person("Luke")
        def Response&lt;PersonResponse&gt; response = call.execute()

        then: 'Should contain Luke data'
        assert response.isSuccessful() == true
        assert response.body.persons.size() == 1
        assert response.body.persons[0].name == "Luke Skywalker"
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_api_call"><a class="anchor" href="#_api_call"></a>API call</h4>
<div class="paragraph">
<p>We are finally going to perform the API call to retrieve details on a Star Wars character, and then put those details in the related connector output.<br>
In the class <em>ConnectorStarWars</em>,  replace the method <em>executeBusinessLogic</em> by the following one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def static final PERSON_OUTPUT = "person"

@Override
def void executeBusinessLogic() throws ConnectorException {
    def name = getInputParameter(NAME_INPUT)
    log.info "$NAME_INPUT : $name"
    // Retrieve the retrofit service created during the connect phase, call the 'person' endpoint with the name parameter
    def response = getService().person(name).execute()
    if (response.isSuccessful()) {
        def persons = response.body.getPersons()
        if (!persons.isEmpty()) {
            def person = persons[0]
            setOutputParameter(PERSON_OUTPUT, person)
        } else {
            throw new ConnectorException("$name not found")
        }
    } else {
        throw new ConnectorException(response.message())
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to test the logic of our connector, we are going to mock the Star Wars web server using <em>MockWebServer</em>.  Thus we will be able to unitary test that the http response is correctly parsed, the output correctly set, and that server errors are managed.</p>
</div>
<div class="paragraph">
<p>Add the following tests in the test class <em>ConnectorStarWarsTest</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">def server
def connector

def setup() {
    server = new MockWebServer()
    def url = server.url("/")
    def baseUrl = "http://${url.host}:${url.port}"

    def httpClient = ConnectorStarWars.createHttpClient(new HttpLoggingInterceptor().setLevel(HttpLoggingInterceptor.Level.BODY))
    def service = ConnectorStarWars.createService(httpClient, baseUrl)

    connector = new ConnectorStarWars()
    connector.service = service
}

def cleanup() {
    server.shutdown();
}

/**
 * Connector unit test - no internet required
 */
def should_fetch_person() {
    given: 'A person name'
    def name = 'Luke'
    and: 'A related person JSON response'
    def body = """
        {"results": [
            {
                "name":"$name Skywalker",
                "height":"172",
                "mass":"77",
                "hair_color":"blond",
                "skin_color":"fair",
                "eye_color":"blue",
                "birth_year":"19BBY",
                "gender":"male",
                "homeworld":"http://swapi.dev/api/planets/1/"
            }
        ]}
    """
    server.enqueue(new MockResponse().setBody(body))

    when: 'Executing connector'
    connector.setInputParameters(['name': name])
    connector.executeBusinessLogic()

    then: 'Connector output should contain the person data'
    def outputParameters = connector.outputParameters
    outputParameters.size() == 1

    def person = outputParameters.get(ConnectorStarWars.PERSON_OUTPUT)
    person instanceof Person
    person.name == "Luke Skywalker"
}

/**
 * Connector unit test - no internet required
 */
def should_get_unknown_person() {
    given: 'An API server'
    String body = "{\"results\":[]}"
    server.enqueue(new MockResponse().setBody(body))

    when: 'Executing business logic'
    def name = 'Luke'
    connector.setInputParameters(['name': name])
    connector.executeBusinessLogic()

    then: 'Connector should throw exception'
    def e = thrown(ConnectorException)
    e.getMessage() == "$name not found"
}

/**
 * Connector unit test - no internet required
 */
def should_handle_server_error() {
    given: 'An API server'
    server.enqueue(new MockResponse().setResponseCode(500))

    when: 'Executing business logic'
    def name = 'Luke'
    connector.setInputParameters(['name': name])
    connector.executeBusinessLogic()

    then: 'Connector should throw exception'
    def e = thrown(ConnectorException)
    e.getMessage() == "Server Error"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_6_build_and_import_the_connector_in_bonita"><a class="anchor" href="#_6_build_and_import_the_connector_in_bonita"></a>6 - Build and import the connector in Bonita</h3>
<div class="paragraph">
<p>The implementation of the connector is finished.<br>
You can build the connector using the following command line at the root of the project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./mvnw clean package</pre>
</div>
</div>
<div class="paragraph">
<p>The result of the build is a zip archive present in the target folder : <em>connector-starwars-1.0.0-SNAPSHOT.zip</em>.
This archive can be imported in a Bonita Studio (from the menu development -&gt; connector -&gt; import), and is ready to be used in processes.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer>
  <div class="footer-body">
    <div class="footer-content">
      <p>
        Bonitasoft fully supports digital operations and IT modernization with Bonita, an open-source and extensible
        platform for automation and optimization of business processes.
        The Bonita platform accelerates development and production with clear separation between capabilities for visual
        programming and for coding.
        Bonita integrates with existing information systems, orchestrates heterogeneous systems, and provides deep
        visibility into processes across the organization.
      </p>
    </div>
    <div class="social-links">
      <ul>
        <!-- Twitter image -->
        <li class="social-icon">
          <a href="https://twitter.com/bonitasoft" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
            </svg>
          </a>
        </li>
        <!-- Facebook image -->
        <li class="social-icon">
          <a href="https://www.facebook.com/bonitasoftbpm" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
            </svg>
          </a>
        </li>
        <!-- Linkedin image -->
        <li class="social-icon">
          <a href="https://www.linkedin.com/company/bonitasoft/" target="_blank">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
            </svg>
          </a>
        </li>
        <!-- RSS image -->
        <li class="social-icon">
          <a href="https://www.bonitasoft.com/blog/rss" target="_blank">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z" />
            </svg>
          </a>
        </li>
        <!-- Youtube image -->
        <li class="social-icon">
          <a href="https://www.youtube.com/user/BonitaSoft" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
            </svg>
          </a>
        </li>
      </ul>
    </div>
    <div class="social-links">
      <ul class="border-right">
        <li><a href="https://www.bonitasoft.com/downloads">Download</a></li>
        <li><a href="https://www.bonitasoft.com/events">Events</a></li>
        <li><a href="https://community.bonitasoft.com/">Community</a></li>
        <li><a href="https://bonitasoft.github.io/sitemap.xml">Site map</a></li>
        <li><a href="https://www.bonitasoft.com/bonitasoft-website-legal-terms-use">Terms of use</a></li>
      </ul>
    </div>
    <div class="footer-footer">
      <p>
        &copy; Bonitasoft, S.A. All rights reserved.
        <span>
          <a href="https://www.bonitasoft.com/privacy">Privacy,</a>
          <a href="https://www.bonitasoft.com/legal-notices">Legal notices</a>
        </span>
      </p>
      <a class="footer-bonita-logo" href="https://bonitasoft.github.io"></a>
    </div>
  </div>
</footer><script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    apiKey: '16267f96d135c47df8454efd5b448c9a',
    indexName: 'bonitasoft',
    inputSelector: '#search-query',
    debug: false, // Set debug to true if you want to inspect the dropdown
    algoliaOptions: {
      'facetFilters': ["version:7.7", "tags:bonita"]
    }
  });
</script>
  </body>
</html>
