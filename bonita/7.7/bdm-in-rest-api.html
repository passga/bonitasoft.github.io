<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How to manage BDM in REST API extensions :: Bonita Documentation</title>
    <link rel="canonical" href="https://bonitasoft.github.io/bonita/7.12/bdm-in-rest-api">
    <meta name="generator" content="Antora 2.3.4">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link rel="stylesheet" href="../../_/stylesheets/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7LLM509FEH"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-7LLM509FEH')</script>
<link rel="icon" href="../../_/img/favicon.svg" type="image/x-icon">  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a class="bonita-logo" href="https://bonitasoft.github.io"></a>
      </div>

      <button class="navbar-burger" data-target="search-container">
        <i class="search-icon" aria-hidden="true"></i>
      </button>

      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <div id="topbar-nav" class="navbar-menu">
      <div class="theme-switch-wrapper-mobile">
        <input type="checkbox" class="checkbox" onclick="toggleDarkThemeMode(this)" id="check-mobile">
        <div class="toggle-content">
          <label class="label" for="check-mobile">
            <span>ðŸŒœ</span>
            <span>ðŸŒž</span>
            <div class="ball"></div>
          </label>
        </div>
      </div>
      <div class="navbar-item is-hoverable">
        <a href="https://community.bonitasoft.com/" class="navbar-link">Community</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bonita/7.12/">Bonita</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/cloud/latest/">Bonita Cloud</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bcd/3.4/">Bonita Continuous Delivery</a>
      </div>
      <div class="navbar-item is-hoverable">
        <a class="navbar-link" href="/bici/latest/">Bonita ICI</a>
      </div>
    </div>

    <div class="navbar-search" id="search-container">
      <div class="navbar-item search-item hide-for-print">
        <input type="text" placeholder="Search Docs" class="search-bar query ds-input" id="search-query">
        <i class="search-icon" aria-hidden="true"></i>
      </div>
      <div class="theme-switch-wrapper">
        <input type="checkbox" class="checkbox" onclick="toggleDarkThemeMode(this)" id="check">
        <div class="toggle-content">
          <label class="label" for="check">
            <span>ðŸŒœ</span>
            <span>ðŸŒž</span>
            <div class="ball"></div>
          </label>
        </div>
      </div>
    </div>

  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="bonita" data-version="7.7">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="./">Bonita</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="release-notes">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="migration-tool">Migration tool change log</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_application-and-process-design.adoc">Application and Process Design</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-overview">Bonita overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_application-and-process-design-overview.adoc">Application and process design overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-tutorial">Getting started tutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="key-concepts">Key concepts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="comparison-of-7-x-and-6-x">Comparison of 7.x and 6.x</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lifecycle-and-profiles">Lifecycle and profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="design-methodology">Design methodology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-preferences">Bonita Studio preferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-hints-and-tips">Bonita Studio hints and tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization.adoc">Organization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-overview">Organization overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="approaches-to-managing-organizations-and-actor-mapping">Approaches to managing organizations and actor mapping</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-management-in-bonita-bpm-studio">Organization management in Bonita Studio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="custom-user-information-in-bonita-bpm-studio">Custom User Information in Bonita Studio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ldap-synchronizer">LDAP synchronizer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_profiles.adoc">Profiles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="profiles-overview">Profiles overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="profileCreation">Profiles editor</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-modeling.adoc">Process modeling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_diagrams.adoc">Diagrams</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="diagram-overview">Diagram overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="pools-and-lanes">Pools and lanes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="diagram-tasks">Tasks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="gateways">Gateways</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="transitions">Transitions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="events">Events</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="called-processes">Called processes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event-subprocesses">Event subprocesses</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="text-annotations">Text annotations</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate-a-process-from-bonita-open-solution-5-x">Migrate a process from Bonita Open Solution 5.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="naming-conventions">Naming conventions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="generate-process-documentation">Generate process documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="refactoring">Refactoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actors">Actors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actor-filtering">Actor filters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="iteration">Iteration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_data.adoc">Data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-handling-overview">Data handling overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="define-and-deploy-the-bdm">Define and deploy the BDM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-access-control">Define access control on business objects</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="specify-data-in-a-process-definition">Specify data in a process definition</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="parameters">Parameters</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="contracts-and-contexts">Contracts and contexts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="documents">Documents</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-a-complex-data-type">Complex data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="define-a-search-index">Search keys</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="expressions-and-scripts">Expressions and scripts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="operations">Operations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_page-and-form-development.adoc">Page and form development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="page-and-form-development-overview">Page and form development overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_using-the-ui-designer.adoc">UI Designer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ui-designer-overview">UI Designer overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="create-or-modify-a-page">Create or modify UI artifacts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="widgets">Widgets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="widget-properties">Widget properties</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_widget-use-examples.adoc">Widget use examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="repeat-a-container-for-a-collection-of-data">Repeat a container for a collection of data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="fragments">Fragments</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="custom-widgets">Custom widgets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="variables">Variables</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="appearance">Appearance</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="assets">Assets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="multi-language-pages">Multi-language pages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="migrate-a-form-from-6-x">Migrate a form from 6.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="6-x-legacy-forms">6.x legacy forms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cache-configuration-and-policy">Cache configuration and policy</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="applicationCreation">Application descriptor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_connectivity.adoc">Connectivity</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="connectivity-overview">Connectivity overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="alfresco">Alfresco</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cmis">CMIS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_database.adoc">Database</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="list-of-database-connectors">List of database connectors</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="database-connector-configuration">Database connector configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="graphical-query-builder">Graphical query builder</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="initialize-a-variable-from-a-database-without-scripting-or-java-code">Initialize a variable from a database without scripting or Java code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="insert-data-in-a-docx-odt-template">Insert data in a .docx/.odt template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="google-calendar">Google Calendar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ldap">LDAP</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="messaging">Messaging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="generate-pdf-from-an-office-document">Generate PDF from an Office document</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="salesforce">Salesforce</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sap-jco-2">SAP JCo 2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sap-jco-3">SAP JCo 3</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="script">Script</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="twitter">Twitter</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_web-service.adoc">Web service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="web-service-connector-overview">Web service connector overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="#web-service-tutorial.adoc">Web service connector tutorial</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_reporting.adoc">Reporting</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="reporting-overview">Reporting overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-a-reporting-database">Set up a reporting database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-kpis">Set up KPIs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-a-report">Create a report</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="import-and-export-a-process">Import and export a process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-configuration.adoc">Process configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-configuration-overview">Process configuration overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="environments">Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configuring-a-process">Configure a process</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manage-jar-files">Manage JAR files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="managing-dependencies">Manage dependencies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-testing.adoc">Process testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-testing-overview">Process testing overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configure-a-test-organization">Configure a test organization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="run-a-process-from-bonita-bpm-studio-for-testing">Run a process from Bonita Studio for testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-files">Log files</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="build-a-process-for-deployment">Build a process for deployment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_installation.adoc">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-installation-overview">Bonita installation overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-studio-installation">Bonita Studio installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_basic-bonita-platform-installation.adoc">Basic Bonita Platform installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="hardware-and-software-requirements">Hardware and software requirements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tomcat-bundle">Tomcat bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="wildfly-bundle">WildFly bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deploy-bundle">Deploy bundle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="BonitaBPM_platform_setup">Platform configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="database-configuration">Database creation and customization to work with Bonita</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="first-steps-after-setup">First steps after setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="licenses">Licenses</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_advanced-bonita-platform-installation.adoc">Advanced Bonita Platform installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_security-and-authentication.adoc">Security and authentication</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user-authentication-overview">User authentication overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="active-directory-or-ldap-authentication">Active Directory or LDAP authentication</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="single-sign-on-with-cas">Single sign-on with CAS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="single-sign-on-with-saml">Single sign-on with SAML</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="enforce-password-policy">Enforce password policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="rest-api-authorization">REST API authorization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="csrf-security">CSRF security</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="enable-cors-in-tomcat-bundle">Enable CORS in Tomcat bundle</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="ssl">SSL</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="tenant_admin_credentials">Tenant administrator credentials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-log-and-archive-levels">Set log and archive levels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configurable-archive">Configurable Archive</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="performance-tuning">Performance tuning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="performance-troubleshooting">Performance troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="use-gzip-compression">Use gzip compression</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="two-main-types-of-deployment">Two main types of deployment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-in-a-cluster.adoc">Bonita in a cluster</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="overview-of-bonita-bpm-in-a-cluster">Overview of Bonita in a cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="install-a-bonita-bpm-cluster">Install a Bonita cluster</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="cluster-administration">Cluster administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="multi-tenancy-and-tenant-configuration">Multi-tenancy and tenant configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_platform-installation-examples.adoc">Platform installation examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ubuntu-openjdk-tomcat-postgresql">Ubuntu + OpenJDK + Tomcat + PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bonita-as-windows-service">Install Tomcat with Bonita as a service in Windows</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="back-up-bonita-bpm-platform">Back up Bonita Platform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_migration.adoc">Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="migration-overview">Migration overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="migrate-from-an-earlier-version-of-bonita-bpm">Migrate from an earlier version of Bonita</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="upgrade-from-community-to-a-subscription-edition">Community to Subscription upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-portal-administration.adoc">Bonita Portal Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-portal-interface.adoc">Bonita Portal interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bonita-bpm-portal-interface-overview">Bonita Portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="user-task-list">User task list</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="languages">Languages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-in-and-log-out">Log in and log out</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="about">About Bonita Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-portal">Mobile Portal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_process-maintenance.adoc">Process maintenance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="processes">Processes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="cases">Cases</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tasks">Tasks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="subtasks">Subtasks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="monitoring">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pause-and-resume-bpm-services">Pause and resume services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-management-in-bonita-bpm-portal">BDM Management in Bonita Portal</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="applications">Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_resources.adoc">Resources</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="resource-management">Resource management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pages">Pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="forms">Forms</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="layouts">Layouts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="themes">Themes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="api-extensions">REST API extensions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="live-update">Live update</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization-in-bonita-portal.adoc">Organization in Bonita Portal</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="organization-in-bonita-bpm-portal-overview">Organization in Bonita Portal overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_organization-maintenance.adoc">Organization maintenance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="import-export-an-organization">Import/export an organization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="group">Manage groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="role">Manage roles</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_user.adoc">Manage users</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="manage-a-user">Manage a user</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="deactivate-a-user">Deactivate a user</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="custom-user-information-in-bonita-bpm-portal">Custom User Information in Bonita Portal</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="analytics">Analytics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_user-profiles.adoc">User profiles</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="administrator-rights">Administrator rights</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="process-manager">Process manager</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="custom-profiles">Custom profiles</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deploying-profiles-with-export-and-import">Deploy profiles with export and import</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_look-feel.adoc">Look &amp; Feel</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="managing-look-feel">Manage Look &amp; Feel</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="creating-a-new-look-feel">Create a new Look &amp; Feel</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="search-index">Search keys</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="maintenance-operation">Bonita Platform Maintenance Operations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_development.adoc">Development</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="software-extensibility">Software extensibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_bonita-artifacts.adoc">Bonita artifacts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_connectors.adoc">Connectors</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="connectors-overview">Connectors overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="connector-archetype">Bonita connector archetype</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="actor-filter-archetype">Create an actor filter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="api-glossary">API glossary</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_rest-api.adoc">REST API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-overview">REST API overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-authentication">REST Authentication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="application-api">application API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="access-control-api">access control API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bdm-api">bdm API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="bpm-api">bpm API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="customuserinfo-api">customuserinfo API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="form-api">form API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-api">identity API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="platform-api">platform API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="portal-api">portal API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-api">system API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tenant-api">tenant API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rest-api-extensions">REST API extensions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manage-files-using-upload-servlet-and-rest-api">Manage files using upload servlet and REST API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_engine-api.adoc">Engine API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="engine-api-overview">Engine API overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="create-your-first-project-with-the-engine-apis-and-maven">Create your first project with the Engine APIs and Maven</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configure-client-of-bonita-bpm-engine">Configure connection to Bonita Engine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="http://documentation.bonitasoft.com/javadoc/api/$7.7/index.html">Javadoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_examples.adoc">Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-a-process">Manage a process</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handle-a-failed-activity">Handle a failed activity</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-an-organization">Manage an organization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-users">Manage users</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handling-documents">Handle documents</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="create-administration-tools">Create administration tools</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="restore-default-look-feel">Restore the default Look &amp; Feel</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="manage-the-platform">Manage the platform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="using-list-and-search-methods">List and search methods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="log-in-with-cas">Log in with CAS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bonita-bpm-portal-urls">Bonita Portal URLs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_engine-architecture.adoc">Bonita Engine architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="engine-architecture-overview">Bonita Engine architecture overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_services.adoc">Services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event-handlers">Event handlers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="queriable-logging">Queriable logger</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="execution-sequence-states-and-transactions">BPM process / task execution sequence</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_living-application.adoc">Living application</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="customize-living-application-layout">Customize living application layout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="logging">Logs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="preloading-the-forms-cache">Preload the forms cache</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="workspaces-and-repositories">Workspaces and repositories</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-community-edition-from-source">Build Bonita Community edition from source files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_continuous-integration.adoc">Continuous integration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="automating-builds">Automate builds</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="set-up-continuous-integration">Set up continuous integration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#_howtos.adoc">Howtos</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uid-modal-tutorial">Create a modal window using CSS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uid-case-overview-tutorial">Create a case overview page using the UI Designer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="optimize-user-tasklist">Create unique task names for the user task list</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manage-control-in-forms">Control and validate forms in the UI Designer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="list-of-documents">Manage a list of documents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bo-multiple-refs-tutorial">Manage multiple references in Business Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="custom-authorization-rule-mapping">Map authorization rules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rta-mail-template">Use the rich textarea widget in a mail template</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="datetimes-management-tutorial">Manage dates and times in BDM and User Interfaces</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="bdm-in-rest-api">Manage BDM in custom Rest APIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="share-a-repository-on-github">Share a repository on GitHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="migrate-a-svn-repository-to-github">Migrate a SVN repository to a Git repository</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configure-maven">Configure Maven</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Bonita</span>
    <span class="version">7.7</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Bonita</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../7.12/">7.12</a>
        </li>
        <li class="version">
          <a href="../7.11/">7.11</a>
        </li>
        <li class="version">
          <a href="../7.10/">7.10</a>
        </li>
        <li class="version">
          <a href="../7.9/">7.9</a>
        </li>
        <li class="version">
          <a href="../7.8/">7.8</a>
        </li>
        <li class="version is-current">
          <a href="./">7.7</a>
        </li>
        <li class="version">
          <a href="../7.6/">7.6</a>
        </li>
        <li class="version">
          <a href="../7.5/">7.5</a>
        </li>
        <li class="version">
          <a href="../7.4/">7.4</a>
        </li>
        <li class="version">
          <a href="../7.3/">7.3</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita Cloud</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../cloud/latest/">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita Continuous Delivery</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../bcd/3.4/">3.4</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Bonita ICI</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../bici/latest/">labs</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>  <a href="../7.12/" class="home-link"></a>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="./">Bonita</a></li>
    <li><a href="#_howtos.adoc">Howtos</a></li>
    <li><a href="bdm-in-rest-api">Manage BDM in custom Rest APIs</a></li>
  </ul>
</nav>
  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">7.7</button>
  <div class="version-menu">
    <a class="version" href="../7.12/bdm-in-rest-api">7.12</a>
    <a class="version" href="../7.11/bdm-in-rest-api">7.11</a>
    <a class="version" href="../7.10/bdm-in-rest-api">7.10</a>
    <a class="version" href="../7.9/bdm-in-rest-api">7.9</a>
    <a class="version" href="../7.8/bdm-in-rest-api">7.8</a>
    <a class="version is-current" href="bdm-in-rest-api">7.7</a>
    <a class="version" href="../7.6/bdm-in-rest-api">7.6</a>
    <a class="version is-missing" href="../7.5/">7.5</a>
    <a class="version is-missing" href="../7.4/">7.4</a>
    <a class="version is-missing" href="../7.3/">7.3</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/bonitasoft/bonita-doc/edit/7.7_asciidoctor/modules/ROOT/pages/bdm-in-rest-api.adoc">Edit this Page</a></div>
  </div>  <div class="content">
<article class="doc">
<h1 class="page">How to manage BDM in REST API extensions</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Learn best practices when developing a <a href="rest-api-extensions" class="page">REST API Extension</a> accessing <a href="define-and-deploy-the-bdm" class="page">Business Data</a>.<br>
Special attention is paid on performance matters.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_first_use_case"><a class="anchor" href="#_first_use_case"></a>First use case</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Image below shows the BDM model used for the first use-case:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/images/bdm_model_for_rest_api_01.png" alt="BDM model used">
</div>
</div>
<div class="paragraph">
<p>Note that the relationships from car to wheel1, wheel2, wheel3, wheel4 are <strong><a href="define-and-deploy-the-bdm.md#lazy_eager_loading">lazy</a> loaded</strong> (in the Studio, it is
configured by selecting the <code>Only load related objects when needed</code> radio button).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_groovy_code_sample"><a class="anchor" href="#_groovy_code_sample"></a>Groovy code sample</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is an example of a REST API extension groovy script that accesses the Business Data model.</p>
</div>
<div class="paragraph">
<p>NOTE:
<strong>Good practices</strong> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If lazy loaded objects are not necessary in the response, ONLY extract the information needed. This avoids costly loading of unnecessary objects.</p>
</li>
<li>
<p>If lazy loaded objects should always be returned in the response, consider changing the relation from <a href="define-and-deploy-the-bdm.md#lazy_eager_loading">'lazy' to 'eager'</a>
in the model.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">class CarManagement implements RestApiController {

    private static final Logger LOGGER = LoggerFactory.getLogger(CarManagement.class)

    @Override
    RestApiResponse doHandle(HttpServletRequest request, RestApiResponseBuilder responseBuilder, RestAPIContext context) {
        // To retrieve query parameters use the request.getParameter(..) method.
        // Be careful, parameter values are always returned as String values

        // Retrieve p parameter
        def p = request.getParameter "p"
        if (p == null) {
            return buildResponse(responseBuilder, HttpServletResponse.SC_BAD_REQUEST,"""{"error" : "the parameter p is missing"}""")
        }

        // Retrieve c parameter
        def c = request.getParameter "c"
        if (c == null) {
            return buildResponse(responseBuilder, HttpServletResponse.SC_BAD_REQUEST,"""{"error" : "the parameter c is missing"}""")
        }

        // use APIClient to retrieve the CarDAO class:
        def carDAO = context.apiClient.getDAO(CarDAO.class)

        def currentModel = "DeLorean"
        // Fetch the cars that match the search criteria:
        List&lt;Car&gt; cars = carDAO.findByModel(currentModel, p as int, c as int)

        // Prepare the Json result:
        // Do NOT return directly the list "cars", as the entire list of Wheel objects would be fetched by lazy loading when calling the JsonBuilder toString method.
        // Instead, ONLY select the fields that are necessary for your business logic (alternative methods are also available, see below in this page):
        def carModels = [:]
        for (Car car : cars) {
            // return the fields "id", "buildYear", "color":
            carModels.put("id: ${car.persistenceId}", "${car.buildYear} - ${car.color}")
        }

        def result = [ "model" : currentModel, "number of cars" : cars.size(), "cars" : carModels ]

        // Attention: do not use "toPrettyString()" if your response is large, as the page "size" may be uselessly big:
        return buildResponse(responseBuilder, HttpServletResponse.SC_OK, new JsonBuilder(result).toString())
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_api_response_content"><a class="anchor" href="#_rest_api_response_content"></a>Rest API Response content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below is an example of the resulting response (the json is formatted to improve readability):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
"model": "DeLorean",
"number of cars": 30,
    "cars": {
        "id: 1": "1933 - Red",
        "id: 6": "1938 - Rainbow",
        "id: 20": "2002 - Green",
        "id: 24": "1940 - Yellow",
        "id: 33": "1954 - Purple",
        "id: 46": "1932 - Rainbow",
        "id: 50": "2008 - Teal",
        "id: 51": "1979 - Purple",
        "id: 53": "1942 - Purple",
        "id: 60": "1941 - Rainbow",
        "id: 71": "1987 - Orange",
        "id: 75": "1956 - Green",
        "id: 82": "1938 - Rainbow",
        "id: 92": "1955 - Rainbow",
        "id: 100": "1965 - Orange",
        "id: 119": "1992 - Blue",
        "id: 128": "2015 - Purple",
        "id: 130": "1932 - Yellow",
        "id: 142": "1951 - Grey",
        "id: 143": "1930 - White",
        "id: 146": "1937 - Teal",
        "id: 147": "1961 - Blue",
        "id: 152": "1939 - Purple",
        "id: 158": "1977 - Grey",
        "id: 159": "2013 - Rainbow",
        "id: 160": "1997 - Purple",
        "id: 163": "1973 - Rainbow",
        "id: 164": "1940 - Purple",
        "id: 165": "1933 - Teal",
        "id: 172": "1983 - Rainbow"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>NOTE:
Note that Wheels are not returned, only necessary information is fetched.<br>
As a result, performance is efficient</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting_bad_practices"><a class="anchor" href="#_troubleshooting_bad_practices"></a>Troubleshooting bad practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>WARNING:
<strong>:fa-exclamation-triangle: Practices leading to poor performance</strong></p>
</div>
<div class="paragraph">
<p>Since wheel1, wheel2, wheel3, wheel4 are lazy loaded, they are <strong>not retrieved</strong> directly when retrieving a Car.
The retrieval of related Wheel objects is only performed <strong>when accessing the fields</strong> (via getWheel1(), &#8230;&#8203;), if necessary.</p>
</div>
<div class="paragraph">
<p>However, when building the response, the <code>JsonBuilder&#8217;s toString</code> method  <strong>implicitly fetches</strong> all lazy loaded fields (it calls all the field getters).<br>
So, if a large number of Business Data is returned and if you have lazy loaded fields in the returned objects, numerous queries are executed, leading to poor performance.</p>
</div>
<div class="paragraph">
<p>For example, if you don&#8217;t follow the code sample above and write something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">        def currentModel = "DeLorean"
        // Fetch the cars that match the search criteria:
        List&lt;Car&gt; cars = carDAO.findByModel(currentModel, p as int, c as int)
        def result = [ "cars" : cars ]
        return buildResponse(responseBuilder, HttpServletResponse.SC_OK, new JsonBuilder(result).toString())</code></pre>
</div>
</div>
<div class="paragraph">
<p>The returned result will contain, for each car, the fields persistenceId, buildYear and color, allowing you to use these in your application(s).<br>
However, assuming you want to retrieve 10 cars of the "Delorean" model, this code will execute a total of <strong>41</strong> "Select" database queries</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1 query to get the cars,</p>
</li>
<li>
<p>then 4 queries per car to fetch each one of the <em>wheel</em> fields to build the JSON response (so 40 queries).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In comparison, the code following good practises only performs <strong>a single Select database query</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_use_cases"><a class="anchor" href="#_other_use_cases"></a>Other use cases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The rest api extension example previously described in this page advices to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create a custom data structure for the response</p>
</li>
<li>
<p>copy only selected fields from the BDM object into this custom data structure</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In some cases, you may want to return the entire BDM object structure in the response:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>because it eases parsing the REST API Json result to build an Object</p>
</li>
<li>
<p>for maintenance reasons, when adding a new field to a BDM object, you may avoid to have to modify the Rest API extension code to include this new field</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_returning_the_whole_object_without_its_lazy_loaded_fields"><a class="anchor" href="#_returning_the_whole_object_without_its_lazy_loaded_fields"></a>Returning the whole object without its lazy loaded fields</h3>
<div class="paragraph">
<p>The troobleshooting section gives an example using the Groovy <code>JsonBuilder</code> class leading to poor performance: it calls the getter of lazy loaded fields which
then fetches the data.
So using an alternate json builder implementation can solve this issue.</p>
</div>
<div class="paragraph">
<p>As the BDM object lazy loaded fields are marked with the Jackson&#8217;s <code>@JsonIgnore</code> annotation and as the Jackson&#8217;s library is available for use in the Rest API Extension,
the best candidate for this is to use the Jackson serializer to generate the json response.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">import com.fasterxml.jackson.databind.ObjectMapper
import com.fasterxml.jackson.databind.SerializationFeature


class CarManagement implements RestApiController {

    private static final Logger LOGGER = LoggerFactory.getLogger(CarManagement.class)

    // Use a shared instance for performance reason (see https://github.com/FasterXML/jackson-docs/wiki/Presentation:-Jackson-Performance)
    private static final ObjectMapper jsonBuilder = new ObjectMapper()
    static {
        // needed to serialize BDM object because of the Bonita lazy loading mechanism
        jsonBuilder.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)
    }

    @Override
    RestApiResponse doHandle(HttpServletRequest request, RestApiResponseBuilder responseBuilder, RestAPIContext context) {
        // To retrieve query parameters use the request.getParameter(..) method.
        // Be careful, parameter values are always returned as String values

        // Retrieve p parameter
        def p = request.getParameter "p"
        if (p == null) {
            return buildResponse(responseBuilder, HttpServletResponse.SC_BAD_REQUEST,"""{"error" : "the parameter p is missing"}""")
        }

        // Retrieve c parameter
        def c = request.getParameter "c"
        if (c == null) {
            return buildResponse(responseBuilder, HttpServletResponse.SC_BAD_REQUEST,"""{"error" : "the parameter c is missing"}""")
        }

        // use APIClient to retrieve the CarDAO class:
        def carDAO = context.apiClient.getDAO(CarDAO.class)

        def currentModel = "DeLorean"
        // Fetch the cars that match the search criteria:
        List&lt;Car&gt; cars = carDAO.findByModel(currentModel, p as int, c as int)

        // Prepare the Json result:
        def result = [ "model" : currentModel, "number of cars" : cars.size(), "cars" : cars ]

        return buildResponse(responseBuilder, HttpServletResponse.SC_OK, jsonBuilder.writeValueAsString(result))
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_returning_the_whole_object_with_an_api_link_load_in_the_lazy_fields"><a class="anchor" href="#_returning_the_whole_object_with_an_api_link_load_in_the_lazy_fields"></a>Returning the whole object with an API link load in the lazy fields</h3>
<div class="paragraph">
<p>The idea is to create a custom Json serializer.<br>
A custom Json serializer is a class which extends <em>com.fasterxml.jackson.databind.JsonSerializer</em>. There is a method <em>serialize</em> to implement, which has the responsability to serialize the input model into Json.<br>
The custom Json serializer has to come with an other class, an object mapper,  which extends <em>com.fasterxml.jackson.databind.ObjectMapper</em>.<br>
This mapper registers a simple module (<em>com.fasterxml.jackson.databind.module.SimpleModule</em>), which has to contain the custom serializer.<br>
At the end, in your rest API endpoint, you interact with the mapper.</p>
</div>
<div class="paragraph">
<p>Here is an implementation example for the object Car which has four lazy attributes of type Wheel:</p>
</div>
<div class="paragraph">
<p>The serializer takes a Car in input, and build a Json object for it. The wheels are replaced with links to an other Rest API extension with the car ID and the wheel number in parameter. Calling this API will return the wheel. This is a classic lazy behavior.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">/***********************
 ***** SERIALIZER ******
 ***********************/

import com.fasterxml.jackson.core.JsonGenerator
import com.fasterxml.jackson.databind.JsonSerializer
import com.fasterxml.jackson.databind.SerializerProvider

class CarSerializer extends JsonSerializer&lt;Car&gt;{

	@Override
	public void serialize(Car car, JsonGenerator jgen, SerializerProvider provider)throws IOException, JsonProcessingException {
		jgen.writeStartObject()

		jgen.writeNumberField("carID", car.getPersistenceId())
		jgen.writeStringField("model", car.getModel())
		jgen.writeNumberField("buildYear", car.getBuildYear())
		jgen.writeStringField("color", car.getColor())
		jgen.writeStringField("wheel1Request", getWheelRequest(car.getPersistenceId(), 1))
		jgen.writeStringField("wheel2Request", getWheelRequest(car.getPersistenceId(), 2))
		jgen.writeStringField("wheel3Request", getWheelRequest(car.getPersistenceId(), 3))
		jgen.writeStringField("wheel4Request", getWheelRequest(car.getPersistenceId(), 4))

		jgen.writeEndObject()
	}

	private String getWheelRequest(Long carID, Integer wheelNum) {
		return String.format('../API/extension/wheel?p=0&amp;c=10&amp;carID=%s&amp;wheelNum=%s', carID, wheelNum)
	}

}

/***********************
 ******* MAPPER ********
 ***********************/

import com.fasterxml.jackson.databind.ObjectMapper
import com.fasterxml.jackson.databind.SerializationFeature
import com.fasterxml.jackson.databind.module.SimpleModule

class CarObjectMapper extends ObjectMapper {
	public CarObjectMapper () {
	    SimpleModule module = new SimpleModule()
	    module.addSerializer(Car.class, new CarSerializer())
	    registerModule(module)
    }
}

/***********************
 ******** INDEX ********
 ***********************/

class CarIndex implements RestApiController {

    private static final Logger LOGGER = LoggerFactory.getLogger(CarIndex.class)
    private static final CarObjectMapper CAR_MAPPER = new CarObjectMapper()

    @Override
    RestApiResponse doHandle(HttpServletRequest request, RestApiResponseBuilder responseBuilder, RestAPIContext context) {
        def p = request.getParameter "p"
        def c = request.getParameter "c"

		def carDAO = context.apiClient.getDAO(CarDAO.class)
		int startIndex = (p as Integer)*(c as Integer)
		int endIndex = c as Integer
		List&lt;Car&gt; cars = carDAO.find(startIndex, endIndex)

		def result = CAR_MAPPER.writeValueAsString(cars)

        return buildResponse(responseBuilder, HttpServletResponse.SC_OK, result)
    }

    RestApiResponse buildResponse(RestApiResponseBuilder responseBuilder, int httpStatus, Serializable body) {
        return responseBuilder.with {
            withResponseStatus(httpStatus)
            withResponse(body)
            build()
        }
    }

}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_limitations"><a class="anchor" href="#_known_limitations"></a>Known limitations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_returning_the_object_with_some_of_its_lazy_loaded_fields_only"><a class="anchor" href="#_returning_the_object_with_some_of_its_lazy_loaded_fields_only"></a>Returning the object with SOME of its lazy loaded fields ONLY</h3>
<div class="paragraph">
<p>This use case is not supported. In other words it is necessary to use one database request per lazy loaded field you wish to retrieve.</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer>
  <div class="footer-header">
    <h3>Get useful info curated for you</h3>
    <input type="email" placeholder="Email address *" />
    <button type="submit">Subscribe</button>
  </div>
  <div class="footer-body">
    <div class="footer-content">
      <p>
        Bonitasoft fully supports digital operations and IT modernization with Bonita, an open-source and extensible
        platform for automation and optimization of business processes.
        The Bonita platform accelerates development and production with clear separation between capabilities for visual
        programming and for coding.
        Bonita integrates with existing information systems, orchestrates heterogeneous systems, and provides deep
        visibility into processes across the organization.
      </p>
    </div>
    <div class="social-links">
      <ul>
        <!-- Twitter image -->
        <li class="social-icon">
          <a href="https://twitter.com/bonitasoft" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path
                d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
            </svg>
          </a>
        </li>
        <!-- Facebook image -->
        <li class="social-icon">
          <a href="https://www.facebook.com/bonitasoftbpm" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <title>Facebook icon</title>
              <path
                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
            </svg>
          </a>
        </li>
        <!-- Linkedin image -->
        <li class="social-icon">
          <a href="https://www.linkedin.com/company/bonitasoft/" target="_blank">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>LinkedIn icon</title>
              <path
                d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" />
            </svg>
          </a>
        </li>
        <!-- RSS image -->
        <li class="social-icon">
          <a href="https://www.bonitasoft.com/blog/rss" target="_blank">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <title>RSS icon</title>
              <path
                d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91z" />
            </svg>
          </a>
        </li>
        <!-- Youtube image -->
        <li class="social-icon">
          <a href="https://www.youtube.com/user/BonitaSoft" target="_blank">
            <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <title>YouTube icon</title>
              <path
                d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
            </svg>
          </a>
        </li>
      </ul>
    </div>
    <div class="social-links">
      <ul class="border-right">
        <li><a href="https://www.bonitasoft.com/downloads">Download</a></li>
        <li><a href="https://www.bonitasoft.com/events">Events</a></li>
        <li><a href="https://community.bonitasoft.com/">Community</a></li>
        <li><a href="https://www.bonitasoft.com/sitemap">Site map</a></li>
        <li><a href="https://www.bonitasoft.com/bonitasoft-website-legal-terms-use">Terms of use</a></li>
      </ul>
    </div>
    <div class="footer-footer">
      <p>
        &copy; Bonitasoft, S.A. All rights reserved.
        <span>
          <a href="https://www.bonitasoft.com/privacy">Privacy,</a>
          <a href="https://www.bonitasoft.com/legal-notices">Legal notices</a>
        </span>
      </p>
      <a class="footer-bonita-logo" href="https://bonitasoft.github.io"></a>
    </div>
  </div>
</footer><script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    apiKey: '16267f96d135c47df8454efd5b448c9a',
    indexName: 'bonitasoft',
    inputSelector: '#search-query',
    debug: false, // Set debug to true if you want to inspect the dropdown
    algoliaOptions: {
      'facetFilters': ["version:7.7", "tags:bonita"]
    }
  });
</script>
  </body>
</html>
